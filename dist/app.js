/* Web Font Loader v1.6.26 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.m=b||a;this.c=this.m.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}
function w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}
function z(a){if("string"===typeof a.f)return a.f;var b=a.m.location.protocol;"about:"==b&&(b=a.a.location.protocol);return"https:"==b?"https:":"http:"}function ea(a){return a.m.location.hostname||a.a.location.hostname}
function A(a,b,c){function d(){k&&e&&f&&(k(g),k=null)}b=t(a,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,f=!0,g=null,k=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error("Stylesheet failed to load");d()}):setTimeout(function(){e=!0;d()},0);u(a,"head",b)}
function B(a,b,c,d){var e=a.c.getElementsByTagName("head")[0];if(e){var f=t(a,"script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5E3);return f}return null};function C(){this.a=0;this.c=null}function D(a){a.a++;return function(){a.a--;E(a)}}function F(a,b){a.c=b;E(a)}function E(a){0==a.a&&a.c&&(a.c(),a.c=null)};function G(a){this.a=a||"-"}G.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.a)};function H(a,b){this.c=a;this.f=4;this.a="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return I(a)+" "+(a.f+"00")+" 300px "+J(a.c)}function J(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1!=d.indexOf(" ")||/^\d/.test(d)?b.push("'"+d+"'"):b.push(d)}return b.join(",")}function K(a){return a.a+a.f}function I(a){var b="normal";"o"===a.a?b="oblique":"i"===a.a&&(b="italic");return b}
function ga(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.m.document.documentElement;this.h=b;this.a=new G("-");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c("wf","loading")]);L(a,"loading")}function M(a){if(a.g){var b=y(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive"));w(a.f,c,d)}L(a,"inactive")}function L(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,K(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function N(a,b){this.c=a;this.f=b;this.a=t(this.c,"span",{"aria-hidden":"true"},this.f)}function O(a){u(a.c,"body",a.a)}function P(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+J(a.c)+";"+("font-style:"+I(a)+";font-weight:"+(a.f+"00")+";")};function Q(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}Q.prototype.start=function(){var a=this.c.m.document,b=this,c=q(),d=new Promise(function(d,e){function k(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(k,25)},function(){e()})}k()}),e=new Promise(function(a,d){setTimeout(d,b.f)});Promise.race([e,d]).then(function(){b.g(b.a)},function(){b.j(b.a)})};function R(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||"BESbswy";this.f={};this.w=e||3E3;this.u=f||null;this.o=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.o=new N(this.c,this.s);a=new H(this.a.c+",serif",K(this.a));a=P(a);this.g.a.style.cssText=a;a=new H(this.a.c+",sans-serif",K(this.a));a=P(a);this.h.a.style.cssText=a;a=new H("serif",K(this.a));a=P(a);this.j.a.style.cssText=a;a=new H("sans-serif",K(this.a));a=
P(a);this.o.a.style.cssText=a;O(this.g);O(this.h);O(this.j);O(this.o)}var S={D:"serif",C:"sans-serif"},T=null;function U(){if(null===T){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);T=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return T}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.o.a.offsetWidth;this.A=q();la(this)};
function ma(a,b,c){for(var d in S)if(S.hasOwnProperty(d)&&b===a.f[S[d]]&&c===a.f[S[d]])return!0;return!1}function la(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f["sans-serif"])||(d=U()&&ma(a,b,c));d?q()-a.A>=a.w?U()&&ma(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):na(a):V(a,a.v)}function na(a){setTimeout(p(function(){la(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.o.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.o=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c("wf",a.c,K(a).toString(),"active")],[b.a.c("wf",a.c,K(a).toString(),"loading"),b.a.c("wf",a.c,K(a).toString(),"inactive")]);L(b,"fontactive",a);this.o=!0;oa(this)};
W.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c("wf",a.c,K(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,K(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,K(a).toString(),"inactive"));w(b.f,d,e)}L(b,"fontinactive",a);oa(this)};function oa(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&w(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),L(a,"active")):M(a.a))};function pa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}pa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;qa(this,new ha(this.c,a),a)};
function ra(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,k=d||null||{};if(0===c.length&&f)M(b.a);else{b.f+=c.length;f&&(b.j=f);var h,m=[];for(h=0;h<c.length;h++){var l=c[h],n=k[l.c],r=b.a,x=l;r.g&&w(r.f,[r.a.c("wf",x.c,K(x).toString(),"loading")]);L(r,"fontloading",x);r=null;null===X&&(X=window.FontFace?(x=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))?42<parseInt(x[1],10):!0:!1);X?r=new Q(p(b.g,b),p(b.h,b),b.c,l,b.s,n):r=new R(p(b.g,b),p(b.h,b),b.c,l,b.s,a,
n);m.push(r)}for(h=0;h<m.length;h++)m[h].start()}},0)}function qa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){ra(a,f,b,d,c)})};function sa(a,b){this.c=a;this.a=b}function ta(a,b,c){var d=z(a.c);a=(a.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return d+"//"+a+"/"+b+".js"+(c?"?v="+c:"")}
sa.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c=f["__mti_fntLst"+d](),e=[],h;if(c)for(var m=0;m<c.length;m++){var l=c[m].fontfamily;void 0!=c[m].fontStyle&&void 0!=c[m].fontWeight?(h=c[m].fontStyle+c[m].fontWeight,e.push(new H(l,h))):e.push(new H(l))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.m;B(this.c,ta(c,d,e),function(e){e?a([]):(f["__MonotypeConfiguration__"+d]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+
d}else a([])};function ua(a,b){this.c=a;this.a=b}ua.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new C;b=0;for(c=d.length;b<c;b++)A(this.c,d[b],D(g));var k=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var h=d[1].split(","),m=0;m<h.length;m+=1)k.push(new H(d[0],h[m]));else k.push(new H(d[0]));F(g,function(){a(k,f)})};function va(a,b,c){a?this.c=a:this.c=b+wa;this.a=[];this.f=[];this.g=c||""}var wa="//fonts.googleapis.com/css";function xa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":");a.a.push(e.join(f))}}
function ya(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,"+"));b=a.c+"?family="+c.join("%7C");0<a.f.length&&(b+="&subset="+a.f.join(","));0<a.g.length&&(b+="&text="+encodeURIComponent(a.g));return b};function za(a){this.f=a;this.a=[];this.c={}}
var Aa={latin:"BESbswy","latin-ext":"\u00e7\u00f6\u00fc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},Ba={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ca={i:"i",italic:"i",n:"n",normal:"n"},
Da=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
function Ea(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(":"),e=d[0].replace(/\+/g," "),f=["n4"];if(2<=d.length){var g;var k=d[1];g=[];if(k)for(var k=k.split(","),h=k.length,m=0;m<h;m++){var l;l=k[m];if(l.match(/^[\w-]+$/)){var n=Da.exec(l.toLowerCase());if(null==n)l="";else{l=n[2];l=null==l||""==l?"n":Ca[l];n=n[1];if(null==n||""==n)n="4";else var r=Ba[n],n=r?r:isNaN(n)?"4":n.substr(0,1);l=[l,n].join("")}}else l="";l&&g.push(l)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(","):
g,0<d.length&&(d=Aa[d[0]])&&(a.c[e]=d))}a.c[e]||(d=Aa[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new H(e,f[d]))}};function Fa(a,b){this.c=a;this.a=b}var Ga={Arimo:!0,Cousine:!0,Tinos:!0};Fa.prototype.load=function(a){var b=new C,c=this.c,d=new va(this.a.api,z(c),this.a.text),e=this.a.families;xa(d,e);var f=new za(e);Ea(f);A(c,ya(d),D(b));F(b,function(){a(f.a,f.c,Ga)})};function Ha(a,b){this.c=a;this.a=b}Ha.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?B(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],k=b[f+1],h=0;h<k.length;h++)e.push(new H(g,k[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(m){}a(e)}},2E3):a([])};function Ia(a,b){this.c=a;this.f=b;this.a=[]}Ia.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,k=c.fonts.length;g<k;++g){var h=c.fonts[g];d.a.push(new H(h.name,ga("font-weight:"+h.weight+";font-style:"+h.style)))}a(d.a)},B(this.c,z(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+ea(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};var Y=new pa(window);Y.a.c.custom=function(a,b){return new ua(b,a)};Y.a.c.fontdeck=function(a,b){return new Ia(b,a)};Y.a.c.monotype=function(a,b){return new sa(b,a)};Y.a.c.typekit=function(a,b){return new Ha(b,a)};Y.a.c.google=function(a,b){return new Fa(b,a)};var Z={load:p(Y.load,Y)};"function"===typeof define&&define.amd?define(function(){return Z}):"undefined"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());

/*! skrollr 0.6.26 (2014-06-08) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */
(function(e,t,r){"use strict";function n(r){if(o=t.documentElement,a=t.body,K(),it=this,r=r||{},ut=r.constants||{},r.easing)for(var n in r.easing)U[n]=r.easing[n];yt=r.edgeStrategy||"set",ct={beforerender:r.beforerender,render:r.render,keyframe:r.keyframe},ft=r.forceHeight!==!1,ft&&(Vt=r.scale||1),mt=r.mobileDeceleration||x,dt=r.smoothScrolling!==!1,gt=r.smoothScrollingDuration||E,vt={targetTop:it.getScrollTop()},Gt=(r.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Gt?(st=t.getElementById("skrollr-body"),st&&at(),X(),Dt(o,[y,S],[T])):Dt(o,[y,b],[T]),it.refresh(),St(e,"resize orientationchange",function(){var e=o.clientWidth,t=o.clientHeight;(t!==$t||e!==Mt)&&($t=t,Mt=e,_t=!0)});var i=Y();return function l(){Z(),bt=i(l)}(),it}var o,a,i={get:function(){return it},init:function(e){return it||new n(e)},VERSION:"0.6.26"},l=Object.prototype.hasOwnProperty,s=e.Math,c=e.getComputedStyle,f="touchstart",u="touchmove",m="touchcancel",p="touchend",d="skrollable",g=d+"-before",v=d+"-between",h=d+"-after",y="skrollr",T="no-"+y,b=y+"-desktop",S=y+"-mobile",k="linear",w=1e3,x=.004,E=200,A="start",F="end",C="center",D="bottom",H="___skrollable_id",I=/^(?:input|textarea|button|select)$/i,P=/^\s+|\s+$/g,N=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,O=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,V=/^(@?[a-z\-]+)\[(\w+)\]$/,z=/-([a-z0-9_])/g,q=function(e,t){return t.toUpperCase()},L=/[\-+]?[\d]*\.?[\d]+/g,M=/\{\?\}/g,$=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,_=/[a-z\-]+-gradient/g,B="",G="",K=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(a,null);for(var n in t)if(B=n.match(e)||+n==n&&t[n].match(e))break;if(!B)return B=G="",r;B=B[0],"-"===B.slice(0,1)?(G=B,B={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[B]):G="-"+B.toLowerCase()+"-"}},Y=function(){var t=e.requestAnimationFrame||e[B.toLowerCase()+"RequestAnimationFrame"],r=Pt();return(Gt||!t)&&(t=function(t){var n=Pt()-r,o=s.max(0,1e3/60-n);return e.setTimeout(function(){r=Pt(),t()},o)}),t},R=function(){var t=e.cancelAnimationFrame||e[B.toLowerCase()+"CancelAnimationFrame"];return(Gt||!t)&&(t=function(t){return e.clearTimeout(t)}),t},U={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-s.cos(e*s.PI)/2+.5},sqrt:function(e){return s.sqrt(e)},outCubic:function(e){return s.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-s.abs(3*s.cos(1.028*e*t)/t)}};n.prototype.refresh=function(e){var n,o,a=!1;for(e===r?(a=!0,lt=[],Bt=0,e=t.getElementsByTagName("*")):e.length===r&&(e=[e]),n=0,o=e.length;o>n;n++){var i=e[n],l=i,s=[],c=dt,f=yt,u=!1;if(a&&H in i&&delete i[H],i.attributes){for(var m=0,p=i.attributes.length;p>m;m++){var g=i.attributes[m];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name)if("data-emit-events"!==g.name){var v=g.name.match(N);if(null!==v){var h={props:g.value,element:i,eventType:g.name.replace(z,q)};s.push(h);var y=v[1];y&&(h.constant=y.substr(1));var T=v[2];/p$/.test(T)?(h.isPercentage=!0,h.offset=(0|T.slice(0,-1))/100):h.offset=0|T;var b=v[3],S=v[4]||b;b&&b!==A&&b!==F?(h.mode="relative",h.anchors=[b,S]):(h.mode="absolute",b===F?h.isEnd=!0:h.isPercentage||(h.offset=h.offset*Vt))}}else u=!0;else f=g.value;else c="off"!==g.value;else if(l=t.querySelector(g.value),null===l)throw'Unable to find anchor target "'+g.value+'"'}if(s.length){var k,w,x;!a&&H in i?(x=i[H],k=lt[x].styleAttr,w=lt[x].classAttr):(x=i[H]=Bt++,k=i.style.cssText,w=Ct(i)),lt[x]={element:i,styleAttr:k,classAttr:w,anchorTarget:l,keyFrames:s,smoothScrolling:c,edgeStrategy:f,emitEvents:u,lastFrameIndex:-1},Dt(i,[d],[])}}}for(Et(),n=0,o=e.length;o>n;n++){var E=lt[e[n][H]];E!==r&&(J(E),et(E))}return it},n.prototype.relativeToAbsolute=function(e,t,r){var n=o.clientHeight,a=e.getBoundingClientRect(),i=a.top,l=a.bottom-a.top;return t===D?i-=n:t===C&&(i-=n/2),r===D?i+=l:r===C&&(i+=l/2),i+=it.getScrollTop(),0|i+.5},n.prototype.animateTo=function(e,t){t=t||{};var n=Pt(),o=it.getScrollTop();return pt={startTop:o,topDiff:e-o,targetTop:e,duration:t.duration||w,startTime:n,endTime:n+(t.duration||w),easing:U[t.easing||k],done:t.done},pt.topDiff||(pt.done&&pt.done.call(it,!1),pt=r),it},n.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(it,!0),pt=r},n.prototype.isAnimatingTo=function(){return!!pt},n.prototype.isMobile=function(){return Gt},n.prototype.setScrollTop=function(t,r){return ht=r===!0,Gt?Kt=s.min(s.max(t,0),Ot):e.scrollTo(0,t),it},n.prototype.getScrollTop=function(){return Gt?Kt:e.pageYOffset||o.scrollTop||a.scrollTop||0},n.prototype.getMaxScrollTop=function(){return Ot},n.prototype.on=function(e,t){return ct[e]=t,it},n.prototype.off=function(e){return delete ct[e],it},n.prototype.destroy=function(){var e=R();e(bt),wt(),Dt(o,[T],[y,b,S]);for(var t=0,n=lt.length;n>t;t++)ot(lt[t].element);o.style.overflow=a.style.overflow="",o.style.height=a.style.height="",st&&i.setStyle(st,"transform","none"),it=r,st=r,ct=r,ft=r,Ot=0,Vt=1,ut=r,mt=r,zt="down",qt=-1,Mt=0,$t=0,_t=!1,pt=r,dt=r,gt=r,vt=r,ht=r,Bt=0,yt=r,Gt=!1,Kt=0,Tt=r};var X=function(){var n,i,l,c,d,g,v,h,y,T,b,S;St(o,[f,u,m,p].join(" "),function(e){var o=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(d=o.clientY,g=o.clientX,T=e.timeStamp,I.test(c.tagName)||e.preventDefault(),e.type){case f:n&&n.blur(),it.stopAnimateTo(),n=c,i=v=d,l=g,y=T;break;case u:I.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),h=d-v,S=T-b,it.setScrollTop(Kt-h,!0),v=d,b=T;break;default:case m:case p:var a=i-d,k=l-g,w=k*k+a*a;if(49>w){if(!I.test(n.tagName)){n.focus();var x=t.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,e.view,1,o.screenX,o.screenY,o.clientX,o.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n.dispatchEvent(x)}return}n=r;var E=h/S;E=s.max(s.min(E,3),-3);var A=s.abs(E/mt),F=E*A+.5*mt*A*A,C=it.getScrollTop()-F,D=0;C>Ot?(D=(Ot-C)/F,C=Ot):0>C&&(D=-C/F,C=0),A*=1-D,it.animateTo(0|C+.5,{easing:"outCubic",duration:A})}}),e.scrollTo(0,0),o.style.overflow=a.style.overflow="hidden"},j=function(){var e,t,r,n,a,i,l,c,f,u,m,p=o.clientHeight,d=At();for(c=0,f=lt.length;f>c;c++)for(e=lt[c],t=e.element,r=e.anchorTarget,n=e.keyFrames,a=0,i=n.length;i>a;a++)l=n[a],u=l.offset,m=d[l.constant]||0,l.frame=u,l.isPercentage&&(u*=p,l.frame=u),"relative"===l.mode&&(ot(t),l.frame=it.relativeToAbsolute(r,l.anchors[0],l.anchors[1])-u,ot(t,!0)),l.frame+=m,ft&&!l.isEnd&&l.frame>Ot&&(Ot=l.frame);for(Ot=s.max(Ot,Ft()),c=0,f=lt.length;f>c;c++){for(e=lt[c],n=e.keyFrames,a=0,i=n.length;i>a;a++)l=n[a],m=d[l.constant]||0,l.isEnd&&(l.frame=Ot-l.offset+m);e.keyFrames.sort(Nt)}},W=function(e,t){for(var r=0,n=lt.length;n>r;r++){var o,a,s=lt[r],c=s.element,f=s.smoothScrolling?e:t,u=s.keyFrames,m=u.length,p=u[0],y=u[u.length-1],T=p.frame>f,b=f>y.frame,S=T?p:y,k=s.emitEvents,w=s.lastFrameIndex;if(T||b){if(T&&-1===s.edge||b&&1===s.edge)continue;switch(T?(Dt(c,[g],[h,v]),k&&w>-1&&(xt(c,p.eventType,zt),s.lastFrameIndex=-1)):(Dt(c,[h],[g,v]),k&&m>w&&(xt(c,y.eventType,zt),s.lastFrameIndex=m)),s.edge=T?-1:1,s.edgeStrategy){case"reset":ot(c);continue;case"ease":f=S.frame;break;default:case"set":var x=S.props;for(o in x)l.call(x,o)&&(a=nt(x[o].value),0===o.indexOf("@")?c.setAttribute(o.substr(1),a):i.setStyle(c,o,a));continue}}else 0!==s.edge&&(Dt(c,[d,v],[g,h]),s.edge=0);for(var E=0;m-1>E;E++)if(f>=u[E].frame&&u[E+1].frame>=f){var A=u[E],F=u[E+1];for(o in A.props)if(l.call(A.props,o)){var C=(f-A.frame)/(F.frame-A.frame);C=A.props[o].easing(C),a=rt(A.props[o].value,F.props[o].value,C),a=nt(a),0===o.indexOf("@")?c.setAttribute(o.substr(1),a):i.setStyle(c,o,a)}k&&w!==E&&("down"===zt?xt(c,A.eventType,zt):xt(c,F.eventType,zt),s.lastFrameIndex=E);break}}},Z=function(){_t&&(_t=!1,Et());var e,t,n=it.getScrollTop(),o=Pt();if(pt)o>=pt.endTime?(n=pt.targetTop,e=pt.done,pt=r):(t=pt.easing((o-pt.startTime)/pt.duration),n=0|pt.startTop+t*pt.topDiff),it.setScrollTop(n,!0);else if(!ht){var a=vt.targetTop-n;a&&(vt={startTop:qt,topDiff:n-qt,targetTop:n,startTime:Lt,endTime:Lt+gt}),vt.endTime>=o&&(t=U.sqrt((o-vt.startTime)/gt),n=0|vt.startTop+t*vt.topDiff)}if(Gt&&st&&i.setStyle(st,"transform","translate(0, "+-Kt+"px) "+Tt),ht||qt!==n){zt=n>qt?"down":qt>n?"up":zt,ht=!1;var l={curTop:n,lastTop:qt,maxTop:Ot,direction:zt},s=ct.beforerender&&ct.beforerender.call(it,l);s!==!1&&(W(n,it.getScrollTop()),qt=n,ct.render&&ct.render.call(it,l)),e&&e.call(it,!1)}Lt=o},J=function(e){for(var t=0,r=e.keyFrames.length;r>t;t++){for(var n,o,a,i,l=e.keyFrames[t],s={};null!==(i=O.exec(l.props));)a=i[1],o=i[2],n=a.match(V),null!==n?(a=n[1],n=n[2]):n=k,o=o.indexOf("!")?Q(o):[o.slice(1)],s[a]={value:o,easing:U[n]};l.props=s}},Q=function(e){var t=[];return $.lastIndex=0,e=e.replace($,function(e){return e.replace(L,function(e){return 100*(e/255)+"%"})}),G&&(_.lastIndex=0,e=e.replace(_,function(e){return G+e})),e=e.replace(L,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,r,n={};for(t=0,r=e.keyFrames.length;r>t;t++)tt(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],n)},tt=function(e,t){var r;for(r in t)l.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},rt=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(n=1;o>n;n++)a[n]=e[n]+(t[n]-e[n])*r;return a},nt=function(e){var t=1;return M.lastIndex=0,e[0].replace(M,function(){return e[t++]})},ot=function(e,t){e=[].concat(e);for(var r,n,o=0,a=e.length;a>o;o++)n=e[o],r=lt[n[H]],r&&(t?(n.style.cssText=r.dirtyStyleAttr,Dt(n,r.dirtyClassAttr)):(r.dirtyStyleAttr=n.style.cssText,r.dirtyClassAttr=Ct(n),n.style.cssText=r.styleAttr,Dt(n,r.classAttr)))},at=function(){Tt="translateZ(0)",i.setStyle(st,"transform",Tt);var e=c(st),t=e.getPropertyValue("transform"),r=e.getPropertyValue(G+"transform"),n=t&&"none"!==t||r&&"none"!==r;n||(Tt="")};i.setStyle=function(e,t,r){var n=e.style;if(t=t.replace(z,q).replace("-",""),"zIndex"===t)n[t]=isNaN(r)?r:""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{B&&(n[B+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(o){}};var it,lt,st,ct,ft,ut,mt,pt,dt,gt,vt,ht,yt,Tt,bt,St=i.addEvent=function(t,r,n){var o=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),n.call(this,t)};r=r.split(" ");for(var a,i=0,l=r.length;l>i;i++)a=r[i],t.addEventListener?t.addEventListener(a,n,!1):t.attachEvent("on"+a,o),Yt.push({element:t,name:a,listener:n})},kt=i.removeEvent=function(e,t,r){t=t.split(" ");for(var n=0,o=t.length;o>n;n++)e.removeEventListener?e.removeEventListener(t[n],r,!1):e.detachEvent("on"+t[n],r)},wt=function(){for(var e,t=0,r=Yt.length;r>t;t++)e=Yt[t],kt(e.element,e.name,e.listener);Yt=[]},xt=function(e,t,r){ct.keyframe&&ct.keyframe.call(it,e,t,r)},Et=function(){var e=it.getScrollTop();Ot=0,ft&&!Gt&&(a.style.height=""),j(),ft&&!Gt&&(a.style.height=Ot+o.clientHeight+"px"),Gt?it.setScrollTop(s.min(it.getScrollTop(),Ot)):it.setScrollTop(e,!0),ht=!0},At=function(){var e,t,r=o.clientHeight,n={};for(e in ut)t=ut[e],"function"==typeof t?t=t.call(it):/p$/.test(t)&&(t=t.slice(0,-1)/100*r),n[e]=t;return n},Ft=function(){var e=st&&st.offsetHeight||0,t=s.max(e,a.scrollHeight,a.offsetHeight,o.scrollHeight,o.offsetHeight,o.clientHeight);return t-o.clientHeight},Ct=function(t){var r="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[r],r="baseVal"),t[r]},Dt=function(t,n,o){var a="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[a],a="baseVal"),o===r)return t[a]=n,r;for(var i=t[a],l=0,s=o.length;s>l;l++)i=It(i).replace(It(o[l])," ");i=Ht(i);for(var c=0,f=n.length;f>c;c++)-1===It(i).indexOf(It(n[c]))&&(i+=" "+n[c]);t[a]=Ht(i)},Ht=function(e){return e.replace(P,"")},It=function(e){return" "+e+" "},Pt=Date.now||function(){return+new Date},Nt=function(e,t){return e.frame-t.frame},Ot=0,Vt=1,zt="down",qt=-1,Lt=Pt(),Mt=0,$t=0,_t=!1,Bt=0,Gt=!1,Kt=0,Yt=[];"function"==typeof define&&define.amd?define("skrollr",function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.skrollr=i})(window,document);
/*! skrollr-menu 1.0.3 (2015-06-19) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
(function(t,e){"use strict";var n=500,a="sqrt",o=1,r="data-menu-top",i="data-menu-offset",u="data-menu-duration",c="data-menu-ignore",l=e.skrollr,s=e.history,f=!!s.pushState,h=function(e){return e!==t&&e?"A"===e.tagName.toUpperCase()?e:h(e.parentNode):!1},p=function(t){if(1===t.which||0===t.button){var e=h(t.target);e&&m(e)&&t.preventDefault()}},m=function(n,a){var o;if(y){if(n.hostname!==e.location.hostname)return!1;if(n.pathname!==t.location.pathname)return!1;o=n.hash}else o=n.getAttribute("href");if(!/^#/.test(o))return!1;if(!a&&null!==n.getAttribute(c))return!1;var l,h;if(h=T?T(n):n.getAttribute(r),null!==h)l=/p$/.test(h)?h.slice(0,-1)/100*t.documentElement.clientHeight:+h*k;else{var p=t.getElementById(o.substr(1));if(!p)return!1;l=v.relativeToAbsolute(p,"top","top");var m=p.getAttribute(i);null!==m&&(l+=+m)}f&&N&&!a&&s.pushState({top:l},"",o);var d=parseInt(n.getAttribute(u),10),q=A(v.getScrollTop(),l);return isNaN(d)||(q=d),E&&E(o,l),S&&!a?v.animateTo(l,{duration:q,easing:b}):g(function(){v.setScrollTop(l)}),!0},d=function(){if(e.location.hash&&t.querySelector){var n=t.querySelector('a[href="'+e.location.hash+'"]');n||(n=t.createElement("a"),n.href=e.location.hash),m(n,!0)}},g=function(t){e.setTimeout(t,1)};l.menu={},l.menu.init=function(r,i){v=r,i=i||{},b=i.easing||a,S=i.animate!==!1,A=i.duration||n,T=i.handleLink,k=i.scale||o,y=i.complexLinks===!0,E=i.change,N=i.updateUrl!==!1,"number"==typeof A&&(A=function(t){return function(){return t}}(A)),l.addEvent(t,"click",p),f&&l.addEvent(e,"popstate",function(t){var e=t.state||{},n=e.top||0;g(function(){v.setScrollTop(n)})},!1),d()},l.menu.click=function(t){m(t)};var v,b,A,S,T,k,y,E,N;g(function(){e.location.hash&&e.scrollTo(0,0)})})(document,window);
/**
  * 2016-2017 (C) Antonio Redondo / antonioredondo.com
  *
  * "o" is a nano-library which contains a bunch of functions to deal with basic DOM tasks but with a shorter name.
  * It also contains functions to deal with cookies, and CSS transforms support checking.
  * Mainly used on my personal projects but open to anyone.
  */

(function(o) {
	
	o.gi = function(id) {
		return document.getElementById(id);
	};
	
	o.gc = function(className) {
		return document.getElementsByClassName(className)[0];
	};
	
	o.gca = function(className) {
		return [].slice.call(document.getElementsByClassName(className));
	};
	
	o.qs = function(query) {
		return document.querySelector(query);
	};
	
	o.qsa = function(query) {
		return [].slice.call(document.querySelectorAll(query));
	};
	
	o.ae = function(event, callback) {
		return window.addEventListener(event, callback);
	};
	
	o.to = function(callback, time) {
		return window.setTimeout(callback, time);
	};
	
	o.si = function(callback, time) {
		return window.setInterval(callback, time);
	};
	
	
	
	
	
	o.getRandomInt = function() {
		var min = -50, max = 50;
		return Math.floor(Math.random() * (max - min + 1)) + min;
	};
	
	
	
	
	
	o.calcTotalHeight = function(selector) {
		var total = 0,
			elements = [].slice.call(o.qsa(selector));
			
		elements.forEach(function(e) {
			total += e.scrollHeight;
		});
		
		// console.log(total);
		// console.log(document.body.scrollHeight);
		
		return total;
	};
	
	o.calcRelativePositions = function(selector) {
		var positions = [],
			elements = [].slice.call(o.qsa(selector));
		
		if (elements.length === 0)
			return;
		
		elements.forEach(function(e) {
			positions.push(e.getBoundingClientRect());
			// console.log(e.getBoundingClientRect());
		});
		
		return positions;
	};
	
	o.calcAbsolutePosition = function(parentSelector, childSelector) {
		var parent = o.qs(parentSelector);
		var child = o.qs(childSelector);
		
		if (!parent || !child)
			return;
		
		var offset = {
			left: 0,
			top: 0
		};
		
		while (child !== parent && child) {
			offset.left += child.offsetLeft;
			offset.top += child.offsetTop;
			child = child.parentNode;
		}

		return offset;
	};
	
	o.checkTransformsSupported = function() {
		if (document.documentElement.style.transform !== undefined)
			return "transform";
		else if (document.documentElement.style.webkitTransform !== undefined)
			return "webkitTransform";
	};
	
	
	
	
	
	var elementsToLoad = [],
		callbacks = [];
		
	var runCallbacks = function() {
		var allLoaded = elementsToLoad.every(function(i) {
			return i.loaded;
		});
		
		if (allLoaded) {
			callbacks.forEach(function(i) {
				i();
			});
		}
	};
	
	o.notifyWhenLoaded = function(selector) {
		var elementToLoad = {
			selector: selector,
			loaded: false,
			get setAsLoaded() {
				this.loaded = true;
				runCallbacks();
			}
			// Chrome 53 works. Firefox 49 and Edge 14 don"t
			//setAsLoaded: function() {
			//	elementToLoad.loaded = true;
			//	runCallbacks();
			//	console.log("bbb");
			//}
			// Doesn"t work on browsers
			//setAsLoaded: function() {
			//	this.loaded = true;
			//	runCallbacks();
			//	console.log("ccc");
			//}
		};
		
		var element = o.qs(selector);
		if (element) {
			elementsToLoad.push(elementToLoad);
			
			// http://stackoverflow.com/questions/1977871/check-if-an-image-is-loaded-no-errors-in-javascript
			if (element.complete && element.naturalHeight !== 0) {
				/*jshint -W030 */
				elementToLoad.setAsLoaded;
				/*jshint +W030 */
			} else element.addEventListener("load", elementToLoad.setAsLoaded);
		}
		
		return element;
	};
	
	o.runWhenAllLoaded = function(callback) {
		callbacks.push(callback);
		runCallbacks();
	};
	
	o.resetElementsToLoad = function() {
		elementsToLoad = [];
		callbacks = [];
	};
	
	
	
	
	
	o.getCookie = function(name) {
		var nameEQ = name + "=",
				ca = document.cookie.split(";");
		for (var i=0;i < ca.length;i++) {
			var c = ca[i];
			while (c.charAt(0) == " ")
				c = c.substring(1,c.length);
			if (c.indexOf(nameEQ) === 0)
				return c.substring(nameEQ.length,c.length);
		}
		return null;
	};
	
	o.setCookie = function(name, value, days) {
		var expires;
		if (days) {
			var date = new Date();
			date.setTime(date.getTime() + (days*24*60*60*1000));
			expires = "; expires=" + date.toGMTString();
		} else expires = "";
		document.cookie = name + "=" + value + expires + "; path=/";
	};
	
	o.removeCookie = function(name) {
		this.setCookie(name,"",-1);
	};
	
}(window.o = window.o || {}));


function showTopBarEntries() {
	var menuEntries = o.qsa(".top-bar__tab-container:nth-child(n+3)");
	menuEntries.forEach(function(e, i) {
		e.classList.add("top-bar__tab-container--in");
		e.classList.add("top-bar__tab-container--in" + (i + 1));
	});
}





// https://developers.google.com/youtube/player_parameters
// http://stackoverflow.com/questions/8869372/how-do-i-automatically-play-a-youtube-video-iframe-api-muted
// http://stackoverflow.com/questions/20501010/youtube-api-onplayerready-not-firing
function onYouTubeIframeAPIReady() {
	var player = new YT.Player("intro__video", {
		events: {
			onReady: function() {
				player.mute();
				player.playVideo();
			},
			onStateChange: function(e) {
				if (e.data === YT.PlayerState.PLAYING) {
					showTopBarEntries();
					o.gc("intro__video").classList.add("intro__video--in");
					
					// The 'end' and 'loop' YouTube parameters didn't work
					o.si(function() { player.seekTo(0); }, 20000);
				}
			}
		}
	});
}





function setBodyHeight(height) {
	document.body.style.height = height + "px";
}





function moveLine(position) {
	var hash = window.location.hash;
	if (position === undefined && hash) {
		switch (hash.slice(1)) {
			case "intro":		position = 0; break;
			case "who-we-are":	position = 1; break;
			case "activities":	position = 2; break;
			case "the-board":	position = 3; break;
			case "join-us":		position = 4; break;
			case "faq":			position = 5; break;
			case "contact":		position = 6; break;
			default:			position = 5;
		}
	} else if (position === undefined) {
		position = 0;
	}
	
	var topBarPositions = o.calcRelativePositions(".top-bar__tab");
	var line = o.gc("top-bar__line");
	line.style.width = topBarPositions[position].width + "px";
	line.style.transform = "translate3d(" + topBarPositions[position].left + "px, 0, 0)";
}





function init() {
	o.to(function() { showTopBarEntries(); }, 3000);
	setBodyHeight(o.calcTotalHeight("section.skrollr-deck"));
	moveLine();
	
	var breakpointMobile = 810;
	
	
	
	// Sets up Skroller
	var gap = 300;
	var offsetFunctions = {
			get d0() { return o.gi("intro").scrollHeight; },
			get d0g() { return gap + this.d0; },
			get d1() { return o.gi("who-we-are").scrollHeight + this.d0; },
			get d1g() { return gap + this.d1; },
			get d2() { return o.gi("activities").scrollHeight + this.d1; },
			get d2g() { return gap + this.d2; },
			get d3() { return o.gi("the-board").scrollHeight + this.d2; },
			get d3g() { return gap + this.d3; },
			get d4() { return o.gi("join-us").scrollHeight + this.d3; },
			get d4g() { return gap + this.d4; },
			get d5() { return o.gi("faq").scrollHeight + this.d4; },
			get d5g() { return gap + this.d5; },
			get d6() { return o.gi("contact").scrollHeight + this.d5; }
		};
		
	var skrollrInstance = skrollr.init({
		smoothScrolling: false,
		forceHeight: false,
		constants: offsetFunctions,
		keyframe: function(element, name, direction) {
			//if (!this.isAnimatingTo()) {
				var extra = 0;
				if (direction === "up")
					--extra;
				switch (name.slice(6)) {
					case "0": moveLine(1 + extra); break;
					case "1": moveLine(2 + extra); break;
					case "2": moveLine(3 + extra); break;
					case "3": moveLine(4 + extra); break;
					case "4": moveLine(5 + extra); break;
					case "5": moveLine(6 + extra);
				}
			//}
		}
	});
	
	// Sets up Skroller Menu
	skrollr.menu.init(skrollrInstance, {
		animate: true,
		easing: "outCubic",
		duration: 500,
		handleLink: function(link) {
			var extra = 1;
			var linkText = link.href.split("#").pop();
			switch (linkText) {
				case "intro":		return 0;
				case "who-we-are":	return offsetFunctions.d0 + extra;
				case "activities":	return offsetFunctions.d1 + extra;
				case "the-board":	return offsetFunctions.d2 + extra;
				case "join-us":		return offsetFunctions.d3 + extra;
				case "faq":			return offsetFunctions.d4 + extra;
				case "contact":		return offsetFunctions.d5 + extra;
			}
			
			var linkPosition = o.calcAbsolutePosition("#faq", "#" + linkText);
			if (linkPosition)
				return offsetFunctions.d4 + linkPosition.top - 650;
			
			return 0;
		}
	});
	
	
	
	// Sets the size FB iframes depending on desktop or mobile
	var width = 500,
		height = 560,
		width2 = 500,
		height2 = 500;
		
	if (window.innerWidth < breakpointMobile) {
		width = 320;
		height = 500;
		width2 = 320;
		height2 = 400;
	}
	
	o.gc("activities__fb-iframe").src = "https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FAegeeLondon%2F&tabs=events&small_header=true&hide_cover=false&show_facepile=true&width=" + width + "&height=" + height;
	o.gc("contact__fb-iframe").src = "https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FAegeeLondon%2F&tabs=messages&small_header=false&hide_cover=false&show_facepile=true&width=" + width2 + "&height=" + height2;
	
	
	
	// Adds logic for 'scroll' and 'resize' events
	var scrolled = false,
		distance = offsetFunctions.d0/3.5,
		header = o.gc("top-bar");
	
	o.ae("scroll", function() {
		if (window.pageYOffset > distance && !scrolled) {
			header.classList.add("top-bar--in");
			scrolled = true;
		} else if (window.pageYOffset < distance && scrolled) {
			header.classList.remove("top-bar--in");
			scrolled = false;
		}
	});
	
	o.ae("resize", function() {
		setBodyHeight(o.calcTotalHeight("section.skrollr-deck"));
		moveLine();
	});
	
	
	
	// Adapts the UI to remove intro animations if the URL points to a section 
	var hash = window.location.hash;
	if ((hash && hash !== "#intro") ||
			 window.innerWidth < breakpointMobile) {
		o.gc("top-bar").classList.add("top-bar--in");
		o.gc("top-bar").classList.add("top-bar--in2");
		o.to(function() { o.gc("top-bar").classList.remove("top-bar--in2"); }, 1000);
		
		showTopBarEntries();
		
		o.to(function() { moveLine(); }, 500);
	}
	
	
	
	if (window.innerWidth < breakpointMobile) {
		// Adapts the navigation top bar for mobile screens
		o.gca("top-bar__tab").forEach(function(i) {
			i.addEventListener("click", function(e) {
				o.gc("top-bar").classList.remove("top-bar--open");
				o.gc("top-bar__three-bars-close").classList.remove("top-bar__three-bars-close--in");
			});
		});
		o.gc("top-bar__three-bars").addEventListener("click", function(e) {
			o.gc("top-bar").classList.toggle("top-bar--open");
			o.gc("top-bar__three-bars-close").classList.add("top-bar__three-bars-close--in");
		});
		o.gc("top-bar__three-bars-close").addEventListener("click", function(e) {
			o.gc("top-bar").classList.remove("top-bar--open");
			o.gc("top-bar__three-bars-close").classList.remove("top-bar__three-bars-close--in");
		});
	} else {
		// loads the intro video if on desktop
		o.gc("intro__video").src = "//www.youtube.com/embed/7x8BCbo45qA?controls=0&enablejsapi=1&showinfo=0&rel=0&iv_load_policy=3&disablekb=1&origin=http://aegee-london.eu";
	}
	
	
	
	// https://developers.google.com/analytics/devguides/collection/analyticsjs/sending-hits
	o.qs("a.top-bar__tab[href='#intro']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "intro"); });
	o.qs("a.top-bar__tab[href='#who-we-are']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "who-we-are"); });
	o.qs("a.top-bar__tab[href='#activities']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "activities"); });
	o.qs("a.top-bar__tab[href='#the-board']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "the-board"); });
	o.qs("a.top-bar__tab[href='#join-us']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "join-us"); });
	o.qs("a.top-bar__tab[href='#faq']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "faq"); });
	o.qs("a.top-bar__tab[href='#contact']").addEventListener("click", function() { ga("send", "event", "Top bar link", "click", "contact"); });
	
	
	
	o.gc("body").classList.add("body--in");
}





o.notifyWhenLoaded(".intro__header");
o.notifyWhenLoaded(".top-bar__logo");

WebFont.load({
	google: {
		families: ["Roboto Slab:300,700", "Open Sans:300,800"]
	},
	active: function() {
		o.runWhenAllLoaded(init);
	},
	inactive: function() {
		window.location.reload();
	},
	classes: false,
	timeout: 8000
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYmZvbnRsb2FkZXIuanMiLCJza3JvbGxyLm1pbi5qcyIsInNrcm9sbHIubWVudS5taW4uanMiLCJvLmpzIiwiaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQkE7QUFDQTtBQ0RBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogV2ViIEZvbnQgTG9hZGVyIHYxLjYuMjYgLSAoYykgQWRvYmUgU3lzdGVtcywgR29vZ2xlLiBMaWNlbnNlOiBBcGFjaGUgMi4wICovKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYWEoYSxiLGMpe3JldHVybiBhLmNhbGwuYXBwbHkoYS5iaW5kLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYmEoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gcChhLGIsYyl7cD1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2FhOmJhO3JldHVybiBwLmFwcGx5KG51bGwsYXJndW1lbnRzKX12YXIgcT1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9O2Z1bmN0aW9uIGNhKGEsYil7dGhpcy5hPWE7dGhpcy5tPWJ8fGE7dGhpcy5jPXRoaXMubS5kb2N1bWVudH12YXIgZGE9ISF3aW5kb3cuRm9udEZhY2U7ZnVuY3Rpb24gdChhLGIsYyxkKXtiPWEuYy5jcmVhdGVFbGVtZW50KGIpO2lmKGMpZm9yKHZhciBlIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShlKSYmKFwic3R5bGVcIj09ZT9iLnN0eWxlLmNzc1RleHQ9Y1tlXTpiLnNldEF0dHJpYnV0ZShlLGNbZV0pKTtkJiZiLmFwcGVuZENoaWxkKGEuYy5jcmVhdGVUZXh0Tm9kZShkKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gdShhLGIsYyl7YT1hLmMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYilbMF07YXx8KGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTthLmluc2VydEJlZm9yZShjLGEubGFzdENoaWxkKX1mdW5jdGlvbiB2KGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfVxuZnVuY3Rpb24gdyhhLGIsYyl7Yj1ifHxbXTtjPWN8fFtdO2Zvcih2YXIgZD1hLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLGU9MDtlPGIubGVuZ3RoO2UrPTEpe2Zvcih2YXIgZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKz0xKWlmKGJbZV09PT1kW2ddKXtmPSEwO2JyZWFrfWZ8fGQucHVzaChiW2VdKX1iPVtdO2ZvcihlPTA7ZTxkLmxlbmd0aDtlKz0xKXtmPSExO2ZvcihnPTA7ZzxjLmxlbmd0aDtnKz0xKWlmKGRbZV09PT1jW2ddKXtmPSEwO2JyZWFrfWZ8fGIucHVzaChkW2VdKX1hLmNsYXNzTmFtZT1iLmpvaW4oXCIgXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikucmVwbGFjZSgvXlxccyt8XFxzKyQvLFwiXCIpfWZ1bmN0aW9uIHkoYSxiKXtmb3IodmFyIGM9YS5jbGFzc05hbWUuc3BsaXQoL1xccysvKSxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWlmKGNbZF09PWIpcmV0dXJuITA7cmV0dXJuITF9XG5mdW5jdGlvbiB6KGEpe2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYS5mKXJldHVybiBhLmY7dmFyIGI9YS5tLmxvY2F0aW9uLnByb3RvY29sO1wiYWJvdXQ6XCI9PWImJihiPWEuYS5sb2NhdGlvbi5wcm90b2NvbCk7cmV0dXJuXCJodHRwczpcIj09Yj9cImh0dHBzOlwiOlwiaHR0cDpcIn1mdW5jdGlvbiBlYShhKXtyZXR1cm4gYS5tLmxvY2F0aW9uLmhvc3RuYW1lfHxhLmEubG9jYXRpb24uaG9zdG5hbWV9XG5mdW5jdGlvbiBBKGEsYixjKXtmdW5jdGlvbiBkKCl7ayYmZSYmZiYmKGsoZyksaz1udWxsKX1iPXQoYSxcImxpbmtcIix7cmVsOlwic3R5bGVzaGVldFwiLGhyZWY6YixtZWRpYTpcImFsbFwifSk7dmFyIGU9ITEsZj0hMCxnPW51bGwsaz1jfHxudWxsO2RhPyhiLm9ubG9hZD1mdW5jdGlvbigpe2U9ITA7ZCgpfSxiLm9uZXJyb3I9ZnVuY3Rpb24oKXtlPSEwO2c9RXJyb3IoXCJTdHlsZXNoZWV0IGZhaWxlZCB0byBsb2FkXCIpO2QoKX0pOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPSEwO2QoKX0sMCk7dShhLFwiaGVhZFwiLGIpfVxuZnVuY3Rpb24gQihhLGIsYyxkKXt2YXIgZT1hLmMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO2lmKGUpe3ZhciBmPXQoYSxcInNjcmlwdFwiLHtzcmM6Yn0pLGc9ITE7Zi5vbmxvYWQ9Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtnfHx0aGlzLnJlYWR5U3RhdGUmJlwibG9hZGVkXCIhPXRoaXMucmVhZHlTdGF0ZSYmXCJjb21wbGV0ZVwiIT10aGlzLnJlYWR5U3RhdGV8fChnPSEwLGMmJmMobnVsbCksZi5vbmxvYWQ9Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxcIkhFQURcIj09Zi5wYXJlbnROb2RlLnRhZ05hbWUmJmUucmVtb3ZlQ2hpbGQoZikpfTtlLmFwcGVuZENoaWxkKGYpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtnfHwoZz0hMCxjJiZjKEVycm9yKFwiU2NyaXB0IGxvYWQgdGltZW91dFwiKSkpfSxkfHw1RTMpO3JldHVybiBmfXJldHVybiBudWxsfTtmdW5jdGlvbiBDKCl7dGhpcy5hPTA7dGhpcy5jPW51bGx9ZnVuY3Rpb24gRChhKXthLmErKztyZXR1cm4gZnVuY3Rpb24oKXthLmEtLTtFKGEpfX1mdW5jdGlvbiBGKGEsYil7YS5jPWI7RShhKX1mdW5jdGlvbiBFKGEpezA9PWEuYSYmYS5jJiYoYS5jKCksYS5jPW51bGwpfTtmdW5jdGlvbiBHKGEpe3RoaXMuYT1hfHxcIi1cIn1HLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliLnB1c2goYXJndW1lbnRzW2NdLnJlcGxhY2UoL1tcXFdfXSsvZyxcIlwiKS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gYi5qb2luKHRoaXMuYSl9O2Z1bmN0aW9uIEgoYSxiKXt0aGlzLmM9YTt0aGlzLmY9NDt0aGlzLmE9XCJuXCI7dmFyIGM9KGJ8fFwibjRcIikubWF0Y2goL14oW25pb10pKFsxLTldKSQvaSk7YyYmKHRoaXMuYT1jWzFdLHRoaXMuZj1wYXJzZUludChjWzJdLDEwKSl9ZnVuY3Rpb24gZmEoYSl7cmV0dXJuIEkoYSkrXCIgXCIrKGEuZitcIjAwXCIpK1wiIDMwMHB4IFwiK0ooYS5jKX1mdW5jdGlvbiBKKGEpe3ZhciBiPVtdO2E9YS5zcGxpdCgvLFxccyovKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5yZXBsYWNlKC9bJ1wiXS9nLFwiXCIpOy0xIT1kLmluZGV4T2YoXCIgXCIpfHwvXlxcZC8udGVzdChkKT9iLnB1c2goXCInXCIrZCtcIidcIik6Yi5wdXNoKGQpfXJldHVybiBiLmpvaW4oXCIsXCIpfWZ1bmN0aW9uIEsoYSl7cmV0dXJuIGEuYSthLmZ9ZnVuY3Rpb24gSShhKXt2YXIgYj1cIm5vcm1hbFwiO1wib1wiPT09YS5hP2I9XCJvYmxpcXVlXCI6XCJpXCI9PT1hLmEmJihiPVwiaXRhbGljXCIpO3JldHVybiBifVxuZnVuY3Rpb24gZ2EoYSl7dmFyIGI9NCxjPVwiblwiLGQ9bnVsbDthJiYoKGQ9YS5tYXRjaCgvKG5vcm1hbHxvYmxpcXVlfGl0YWxpYykvaSkpJiZkWzFdJiYoYz1kWzFdLnN1YnN0cigwLDEpLnRvTG93ZXJDYXNlKCkpLChkPWEubWF0Y2goLyhbMS05XTAwfG5vcm1hbHxib2xkKS9pKSkmJmRbMV0mJigvYm9sZC9pLnRlc3QoZFsxXSk/Yj03Oi9bMS05XTAwLy50ZXN0KGRbMV0pJiYoYj1wYXJzZUludChkWzFdLnN1YnN0cigwLDEpLDEwKSkpKTtyZXR1cm4gYytifTtmdW5jdGlvbiBoYShhLGIpe3RoaXMuYz1hO3RoaXMuZj1hLm0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3RoaXMuaD1iO3RoaXMuYT1uZXcgRyhcIi1cIik7dGhpcy5qPSExIT09Yi5ldmVudHM7dGhpcy5nPSExIT09Yi5jbGFzc2VzfWZ1bmN0aW9uIGlhKGEpe2EuZyYmdyhhLmYsW2EuYS5jKFwid2ZcIixcImxvYWRpbmdcIildKTtMKGEsXCJsb2FkaW5nXCIpfWZ1bmN0aW9uIE0oYSl7aWYoYS5nKXt2YXIgYj15KGEuZixhLmEuYyhcIndmXCIsXCJhY3RpdmVcIikpLGM9W10sZD1bYS5hLmMoXCJ3ZlwiLFwibG9hZGluZ1wiKV07Ynx8Yy5wdXNoKGEuYS5jKFwid2ZcIixcImluYWN0aXZlXCIpKTt3KGEuZixjLGQpfUwoYSxcImluYWN0aXZlXCIpfWZ1bmN0aW9uIEwoYSxiLGMpe2lmKGEuaiYmYS5oW2JdKWlmKGMpYS5oW2JdKGMuYyxLKGMpKTtlbHNlIGEuaFtiXSgpfTtmdW5jdGlvbiBqYSgpe3RoaXMuYz17fX1mdW5jdGlvbiBrYShhLGIsYyl7dmFyIGQ9W10sZTtmb3IoZSBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBmPWEuY1tlXTtmJiZkLnB1c2goZihiW2VdLGMpKX1yZXR1cm4gZH07ZnVuY3Rpb24gTihhLGIpe3RoaXMuYz1hO3RoaXMuZj1iO3RoaXMuYT10KHRoaXMuYyxcInNwYW5cIix7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwifSx0aGlzLmYpfWZ1bmN0aW9uIE8oYSl7dShhLmMsXCJib2R5XCIsYS5hKX1mdW5jdGlvbiBQKGEpe3JldHVyblwiZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTk5OTlweDtsZWZ0Oi05OTk5cHg7Zm9udC1zaXplOjMwMHB4O3dpZHRoOmF1dG87aGVpZ2h0OmF1dG87bGluZS1oZWlnaHQ6bm9ybWFsO21hcmdpbjowO3BhZGRpbmc6MDtmb250LXZhcmlhbnQ6bm9ybWFsO3doaXRlLXNwYWNlOm5vd3JhcDtmb250LWZhbWlseTpcIitKKGEuYykrXCI7XCIrKFwiZm9udC1zdHlsZTpcIitJKGEpK1wiO2ZvbnQtd2VpZ2h0OlwiKyhhLmYrXCIwMFwiKStcIjtcIil9O2Z1bmN0aW9uIFEoYSxiLGMsZCxlLGYpe3RoaXMuZz1hO3RoaXMuaj1iO3RoaXMuYT1kO3RoaXMuYz1jO3RoaXMuZj1lfHwzRTM7dGhpcy5oPWZ8fHZvaWQgMH1RLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5tLmRvY3VtZW50LGI9dGhpcyxjPXEoKSxkPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsZSl7ZnVuY3Rpb24gaygpe3EoKS1jPj1iLmY/ZSgpOmEuZm9udHMubG9hZChmYShiLmEpLGIuaCkudGhlbihmdW5jdGlvbihhKXsxPD1hLmxlbmd0aD9kKCk6c2V0VGltZW91dChrLDI1KX0sZnVuY3Rpb24oKXtlKCl9KX1rKCl9KSxlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsZCl7c2V0VGltZW91dChkLGIuZil9KTtQcm9taXNlLnJhY2UoW2UsZF0pLnRoZW4oZnVuY3Rpb24oKXtiLmcoYi5hKX0sZnVuY3Rpb24oKXtiLmooYi5hKX0pfTtmdW5jdGlvbiBSKGEsYixjLGQsZSxmLGcpe3RoaXMudj1hO3RoaXMuQj1iO3RoaXMuYz1jO3RoaXMuYT1kO3RoaXMucz1nfHxcIkJFU2Jzd3lcIjt0aGlzLmY9e307dGhpcy53PWV8fDNFMzt0aGlzLnU9Znx8bnVsbDt0aGlzLm89dGhpcy5qPXRoaXMuaD10aGlzLmc9bnVsbDt0aGlzLmc9bmV3IE4odGhpcy5jLHRoaXMucyk7dGhpcy5oPW5ldyBOKHRoaXMuYyx0aGlzLnMpO3RoaXMuaj1uZXcgTih0aGlzLmMsdGhpcy5zKTt0aGlzLm89bmV3IE4odGhpcy5jLHRoaXMucyk7YT1uZXcgSCh0aGlzLmEuYytcIixzZXJpZlwiLEsodGhpcy5hKSk7YT1QKGEpO3RoaXMuZy5hLnN0eWxlLmNzc1RleHQ9YTthPW5ldyBIKHRoaXMuYS5jK1wiLHNhbnMtc2VyaWZcIixLKHRoaXMuYSkpO2E9UChhKTt0aGlzLmguYS5zdHlsZS5jc3NUZXh0PWE7YT1uZXcgSChcInNlcmlmXCIsSyh0aGlzLmEpKTthPVAoYSk7dGhpcy5qLmEuc3R5bGUuY3NzVGV4dD1hO2E9bmV3IEgoXCJzYW5zLXNlcmlmXCIsSyh0aGlzLmEpKTthPVxuUChhKTt0aGlzLm8uYS5zdHlsZS5jc3NUZXh0PWE7Tyh0aGlzLmcpO08odGhpcy5oKTtPKHRoaXMuaik7Tyh0aGlzLm8pfXZhciBTPXtEOlwic2VyaWZcIixDOlwic2Fucy1zZXJpZlwifSxUPW51bGw7ZnVuY3Rpb24gVSgpe2lmKG51bGw9PT1UKXt2YXIgYT0vQXBwbGVXZWJLaXRcXC8oWzAtOV0rKSg/OlxcLihbMC05XSspKS8uZXhlYyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7VD0hIWEmJig1MzY+cGFyc2VJbnQoYVsxXSwxMCl8fDUzNj09PXBhcnNlSW50KGFbMV0sMTApJiYxMT49cGFyc2VJbnQoYVsyXSwxMCkpfXJldHVybiBUfVIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5mLnNlcmlmPXRoaXMuai5hLm9mZnNldFdpZHRoO3RoaXMuZltcInNhbnMtc2VyaWZcIl09dGhpcy5vLmEub2Zmc2V0V2lkdGg7dGhpcy5BPXEoKTtsYSh0aGlzKX07XG5mdW5jdGlvbiBtYShhLGIsYyl7Zm9yKHZhciBkIGluIFMpaWYoUy5oYXNPd25Qcm9wZXJ0eShkKSYmYj09PWEuZltTW2RdXSYmYz09PWEuZltTW2RdXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBsYShhKXt2YXIgYj1hLmcuYS5vZmZzZXRXaWR0aCxjPWEuaC5hLm9mZnNldFdpZHRoLGQ7KGQ9Yj09PWEuZi5zZXJpZiYmYz09PWEuZltcInNhbnMtc2VyaWZcIl0pfHwoZD1VKCkmJm1hKGEsYixjKSk7ZD9xKCktYS5BPj1hLnc/VSgpJiZtYShhLGIsYykmJihudWxsPT09YS51fHxhLnUuaGFzT3duUHJvcGVydHkoYS5hLmMpKT9WKGEsYS52KTpWKGEsYS5CKTpuYShhKTpWKGEsYS52KX1mdW5jdGlvbiBuYShhKXtzZXRUaW1lb3V0KHAoZnVuY3Rpb24oKXtsYSh0aGlzKX0sYSksNTApfWZ1bmN0aW9uIFYoYSxiKXtzZXRUaW1lb3V0KHAoZnVuY3Rpb24oKXt2KHRoaXMuZy5hKTt2KHRoaXMuaC5hKTt2KHRoaXMuai5hKTt2KHRoaXMuby5hKTtiKHRoaXMuYSl9LGEpLDApfTtmdW5jdGlvbiBXKGEsYixjKXt0aGlzLmM9YTt0aGlzLmE9Yjt0aGlzLmY9MDt0aGlzLm89dGhpcy5qPSExO3RoaXMucz1jfXZhciBYPW51bGw7Vy5wcm90b3R5cGUuZz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmE7Yi5nJiZ3KGIuZixbYi5hLmMoXCJ3ZlwiLGEuYyxLKGEpLnRvU3RyaW5nKCksXCJhY3RpdmVcIildLFtiLmEuYyhcIndmXCIsYS5jLEsoYSkudG9TdHJpbmcoKSxcImxvYWRpbmdcIiksYi5hLmMoXCJ3ZlwiLGEuYyxLKGEpLnRvU3RyaW5nKCksXCJpbmFjdGl2ZVwiKV0pO0woYixcImZvbnRhY3RpdmVcIixhKTt0aGlzLm89ITA7b2EodGhpcyl9O1xuVy5wcm90b3R5cGUuaD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmE7aWYoYi5nKXt2YXIgYz15KGIuZixiLmEuYyhcIndmXCIsYS5jLEsoYSkudG9TdHJpbmcoKSxcImFjdGl2ZVwiKSksZD1bXSxlPVtiLmEuYyhcIndmXCIsYS5jLEsoYSkudG9TdHJpbmcoKSxcImxvYWRpbmdcIildO2N8fGQucHVzaChiLmEuYyhcIndmXCIsYS5jLEsoYSkudG9TdHJpbmcoKSxcImluYWN0aXZlXCIpKTt3KGIuZixkLGUpfUwoYixcImZvbnRpbmFjdGl2ZVwiLGEpO29hKHRoaXMpfTtmdW5jdGlvbiBvYShhKXswPT0tLWEuZiYmYS5qJiYoYS5vPyhhPWEuYSxhLmcmJncoYS5mLFthLmEuYyhcIndmXCIsXCJhY3RpdmVcIildLFthLmEuYyhcIndmXCIsXCJsb2FkaW5nXCIpLGEuYS5jKFwid2ZcIixcImluYWN0aXZlXCIpXSksTChhLFwiYWN0aXZlXCIpKTpNKGEuYSkpfTtmdW5jdGlvbiBwYShhKXt0aGlzLmo9YTt0aGlzLmE9bmV3IGphO3RoaXMuaD0wO3RoaXMuZj10aGlzLmc9ITB9cGEucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7dGhpcy5jPW5ldyBjYSh0aGlzLmosYS5jb250ZXh0fHx0aGlzLmopO3RoaXMuZz0hMSE9PWEuZXZlbnRzO3RoaXMuZj0hMSE9PWEuY2xhc3NlcztxYSh0aGlzLG5ldyBoYSh0aGlzLmMsYSksYSl9O1xuZnVuY3Rpb24gcmEoYSxiLGMsZCxlKXt2YXIgZj0wPT0tLWEuaDsoYS5mfHxhLmcpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9ZXx8bnVsbCxrPWR8fG51bGx8fHt9O2lmKDA9PT1jLmxlbmd0aCYmZilNKGIuYSk7ZWxzZXtiLmYrPWMubGVuZ3RoO2YmJihiLmo9Zik7dmFyIGgsbT1bXTtmb3IoaD0wO2g8Yy5sZW5ndGg7aCsrKXt2YXIgbD1jW2hdLG49a1tsLmNdLHI9Yi5hLHg9bDtyLmcmJncoci5mLFtyLmEuYyhcIndmXCIseC5jLEsoeCkudG9TdHJpbmcoKSxcImxvYWRpbmdcIildKTtMKHIsXCJmb250bG9hZGluZ1wiLHgpO3I9bnVsbDtudWxsPT09WCYmKFg9d2luZG93LkZvbnRGYWNlPyh4PS9HZWNrby4qRmlyZWZveFxcLyhcXGQrKS8uZXhlYyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkpPzQyPHBhcnNlSW50KHhbMV0sMTApOiEwOiExKTtYP3I9bmV3IFEocChiLmcsYikscChiLmgsYiksYi5jLGwsYi5zLG4pOnI9bmV3IFIocChiLmcsYikscChiLmgsYiksYi5jLGwsYi5zLGEsXG5uKTttLnB1c2gocil9Zm9yKGg9MDtoPG0ubGVuZ3RoO2grKyltW2hdLnN0YXJ0KCl9fSwwKX1mdW5jdGlvbiBxYShhLGIsYyl7dmFyIGQ9W10sZT1jLnRpbWVvdXQ7aWEoYik7dmFyIGQ9a2EoYS5hLGMsYS5jKSxmPW5ldyBXKGEuYyxiLGUpO2EuaD1kLmxlbmd0aDtiPTA7Zm9yKGM9ZC5sZW5ndGg7YjxjO2IrKylkW2JdLmxvYWQoZnVuY3Rpb24oYixkLGMpe3JhKGEsZixiLGQsYyl9KX07ZnVuY3Rpb24gc2EoYSxiKXt0aGlzLmM9YTt0aGlzLmE9Yn1mdW5jdGlvbiB0YShhLGIsYyl7dmFyIGQ9eihhLmMpO2E9KGEuYS5hcGl8fFwiZmFzdC5mb250cy5uZXQvanNhcGlcIikucmVwbGFjZSgvXi4qaHR0cChzPyk6KFxcL1xcLyk/LyxcIlwiKTtyZXR1cm4gZCtcIi8vXCIrYStcIi9cIitiK1wiLmpzXCIrKGM/XCI/dj1cIitjOlwiXCIpfVxuc2EucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2lmKGZbXCJfX210aV9mbnRMc3RcIitkXSl7dmFyIGM9ZltcIl9fbXRpX2ZudExzdFwiK2RdKCksZT1bXSxoO2lmKGMpZm9yKHZhciBtPTA7bTxjLmxlbmd0aDttKyspe3ZhciBsPWNbbV0uZm9udGZhbWlseTt2b2lkIDAhPWNbbV0uZm9udFN0eWxlJiZ2b2lkIDAhPWNbbV0uZm9udFdlaWdodD8oaD1jW21dLmZvbnRTdHlsZStjW21dLmZvbnRXZWlnaHQsZS5wdXNoKG5ldyBIKGwsaCkpKTplLnB1c2gobmV3IEgobCkpfWEoZSl9ZWxzZSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YigpfSw1MCl9dmFyIGM9dGhpcyxkPWMuYS5wcm9qZWN0SWQsZT1jLmEudmVyc2lvbjtpZihkKXt2YXIgZj1jLmMubTtCKHRoaXMuYyx0YShjLGQsZSksZnVuY3Rpb24oZSl7ZT9hKFtdKTooZltcIl9fTW9ub3R5cGVDb25maWd1cmF0aW9uX19cIitkXT1mdW5jdGlvbigpe3JldHVybiBjLmF9LGIoKSl9KS5pZD1cIl9fTW9ub3R5cGVBUElTY3JpcHRfX1wiK1xuZH1lbHNlIGEoW10pfTtmdW5jdGlvbiB1YShhLGIpe3RoaXMuYz1hO3RoaXMuYT1ifXVhLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLmEudXJsc3x8W10sZT10aGlzLmEuZmFtaWxpZXN8fFtdLGY9dGhpcy5hLnRlc3RTdHJpbmdzfHx7fSxnPW5ldyBDO2I9MDtmb3IoYz1kLmxlbmd0aDtiPGM7YisrKUEodGhpcy5jLGRbYl0sRChnKSk7dmFyIGs9W107Yj0wO2ZvcihjPWUubGVuZ3RoO2I8YztiKyspaWYoZD1lW2JdLnNwbGl0KFwiOlwiKSxkWzFdKWZvcih2YXIgaD1kWzFdLnNwbGl0KFwiLFwiKSxtPTA7bTxoLmxlbmd0aDttKz0xKWsucHVzaChuZXcgSChkWzBdLGhbbV0pKTtlbHNlIGsucHVzaChuZXcgSChkWzBdKSk7RihnLGZ1bmN0aW9uKCl7YShrLGYpfSl9O2Z1bmN0aW9uIHZhKGEsYixjKXthP3RoaXMuYz1hOnRoaXMuYz1iK3dhO3RoaXMuYT1bXTt0aGlzLmY9W107dGhpcy5nPWN8fFwiXCJ9dmFyIHdhPVwiLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3NcIjtmdW5jdGlvbiB4YShhLGIpe2Zvcih2YXIgYz1iLmxlbmd0aCxkPTA7ZDxjO2QrKyl7dmFyIGU9YltkXS5zcGxpdChcIjpcIik7Mz09ZS5sZW5ndGgmJmEuZi5wdXNoKGUucG9wKCkpO3ZhciBmPVwiXCI7Mj09ZS5sZW5ndGgmJlwiXCIhPWVbMV0mJihmPVwiOlwiKTthLmEucHVzaChlLmpvaW4oZikpfX1cbmZ1bmN0aW9uIHlhKGEpe2lmKDA9PWEuYS5sZW5ndGgpdGhyb3cgRXJyb3IoXCJObyBmb250cyB0byBsb2FkIVwiKTtpZigtMSE9YS5jLmluZGV4T2YoXCJraXQ9XCIpKXJldHVybiBhLmM7Zm9yKHZhciBiPWEuYS5sZW5ndGgsYz1bXSxkPTA7ZDxiO2QrKyljLnB1c2goYS5hW2RdLnJlcGxhY2UoLyAvZyxcIitcIikpO2I9YS5jK1wiP2ZhbWlseT1cIitjLmpvaW4oXCIlN0NcIik7MDxhLmYubGVuZ3RoJiYoYis9XCImc3Vic2V0PVwiK2EuZi5qb2luKFwiLFwiKSk7MDxhLmcubGVuZ3RoJiYoYis9XCImdGV4dD1cIitlbmNvZGVVUklDb21wb25lbnQoYS5nKSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIHphKGEpe3RoaXMuZj1hO3RoaXMuYT1bXTt0aGlzLmM9e319XG52YXIgQWE9e2xhdGluOlwiQkVTYnN3eVwiLFwibGF0aW4tZXh0XCI6XCJcXHUwMGU3XFx1MDBmNlxcdTAwZmNcXHUwMTFmXFx1MDE1ZlwiLGN5cmlsbGljOlwiXFx1MDQzOVxcdTA0NGZcXHUwNDE2XCIsZ3JlZWs6XCJcXHUwM2IxXFx1MDNiMlxcdTAzYTNcIixraG1lcjpcIlxcdTE3ODBcXHUxNzgxXFx1MTc4MlwiLEhhbnVtYW46XCJcXHUxNzgwXFx1MTc4MVxcdTE3ODJcIn0sQmE9e3RoaW46XCIxXCIsZXh0cmFsaWdodDpcIjJcIixcImV4dHJhLWxpZ2h0XCI6XCIyXCIsdWx0cmFsaWdodDpcIjJcIixcInVsdHJhLWxpZ2h0XCI6XCIyXCIsbGlnaHQ6XCIzXCIscmVndWxhcjpcIjRcIixib29rOlwiNFwiLG1lZGl1bTpcIjVcIixcInNlbWktYm9sZFwiOlwiNlwiLHNlbWlib2xkOlwiNlwiLFwiZGVtaS1ib2xkXCI6XCI2XCIsZGVtaWJvbGQ6XCI2XCIsYm9sZDpcIjdcIixcImV4dHJhLWJvbGRcIjpcIjhcIixleHRyYWJvbGQ6XCI4XCIsXCJ1bHRyYS1ib2xkXCI6XCI4XCIsdWx0cmFib2xkOlwiOFwiLGJsYWNrOlwiOVwiLGhlYXZ5OlwiOVwiLGw6XCIzXCIscjpcIjRcIixiOlwiN1wifSxDYT17aTpcImlcIixpdGFsaWM6XCJpXCIsbjpcIm5cIixub3JtYWw6XCJuXCJ9LFxuRGE9L14odGhpbnwoPzooPzpleHRyYXx1bHRyYSktPyk/bGlnaHR8cmVndWxhcnxib29rfG1lZGl1bXwoPzooPzpzZW1pfGRlbWl8ZXh0cmF8dWx0cmEpLT8pP2JvbGR8YmxhY2t8aGVhdnl8bHxyfGJ8WzEtOV0wMCk/KG58aXxub3JtYWx8aXRhbGljKT8kLztcbmZ1bmN0aW9uIEVhKGEpe2Zvcih2YXIgYj1hLmYubGVuZ3RoLGM9MDtjPGI7YysrKXt2YXIgZD1hLmZbY10uc3BsaXQoXCI6XCIpLGU9ZFswXS5yZXBsYWNlKC9cXCsvZyxcIiBcIiksZj1bXCJuNFwiXTtpZigyPD1kLmxlbmd0aCl7dmFyIGc7dmFyIGs9ZFsxXTtnPVtdO2lmKGspZm9yKHZhciBrPWsuc3BsaXQoXCIsXCIpLGg9ay5sZW5ndGgsbT0wO208aDttKyspe3ZhciBsO2w9a1ttXTtpZihsLm1hdGNoKC9eW1xcdy1dKyQvKSl7dmFyIG49RGEuZXhlYyhsLnRvTG93ZXJDYXNlKCkpO2lmKG51bGw9PW4pbD1cIlwiO2Vsc2V7bD1uWzJdO2w9bnVsbD09bHx8XCJcIj09bD9cIm5cIjpDYVtsXTtuPW5bMV07aWYobnVsbD09bnx8XCJcIj09biluPVwiNFwiO2Vsc2UgdmFyIHI9QmFbbl0sbj1yP3I6aXNOYU4obik/XCI0XCI6bi5zdWJzdHIoMCwxKTtsPVtsLG5dLmpvaW4oXCJcIil9fWVsc2UgbD1cIlwiO2wmJmcucHVzaChsKX0wPGcubGVuZ3RoJiYoZj1nKTszPT1kLmxlbmd0aCYmKGQ9ZFsyXSxnPVtdLGQ9ZD9kLnNwbGl0KFwiLFwiKTpcbmcsMDxkLmxlbmd0aCYmKGQ9QWFbZFswXV0pJiYoYS5jW2VdPWQpKX1hLmNbZV18fChkPUFhW2VdKSYmKGEuY1tlXT1kKTtmb3IoZD0wO2Q8Zi5sZW5ndGg7ZCs9MSlhLmEucHVzaChuZXcgSChlLGZbZF0pKX19O2Z1bmN0aW9uIEZhKGEsYil7dGhpcy5jPWE7dGhpcy5hPWJ9dmFyIEdhPXtBcmltbzohMCxDb3VzaW5lOiEwLFRpbm9zOiEwfTtGYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgQyxjPXRoaXMuYyxkPW5ldyB2YSh0aGlzLmEuYXBpLHooYyksdGhpcy5hLnRleHQpLGU9dGhpcy5hLmZhbWlsaWVzO3hhKGQsZSk7dmFyIGY9bmV3IHphKGUpO0VhKGYpO0EoYyx5YShkKSxEKGIpKTtGKGIsZnVuY3Rpb24oKXthKGYuYSxmLmMsR2EpfSl9O2Z1bmN0aW9uIEhhKGEsYil7dGhpcy5jPWE7dGhpcy5hPWJ9SGEucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hLmlkLGM9dGhpcy5jLm07Yj9CKHRoaXMuYywodGhpcy5hLmFwaXx8XCJodHRwczovL3VzZS50eXBla2l0Lm5ldFwiKStcIi9cIitiK1wiLmpzXCIsZnVuY3Rpb24oYil7aWYoYilhKFtdKTtlbHNlIGlmKGMuVHlwZWtpdCYmYy5UeXBla2l0LmNvbmZpZyYmYy5UeXBla2l0LmNvbmZpZy5mbil7Yj1jLlR5cGVraXQuY29uZmlnLmZuO2Zvcih2YXIgZT1bXSxmPTA7ZjxiLmxlbmd0aDtmKz0yKWZvcih2YXIgZz1iW2ZdLGs9YltmKzFdLGg9MDtoPGsubGVuZ3RoO2grKyllLnB1c2gobmV3IEgoZyxrW2hdKSk7dHJ5e2MuVHlwZWtpdC5sb2FkKHtldmVudHM6ITEsY2xhc3NlczohMSxhc3luYzohMH0pfWNhdGNoKG0pe31hKGUpfX0sMkUzKTphKFtdKX07ZnVuY3Rpb24gSWEoYSxiKXt0aGlzLmM9YTt0aGlzLmY9Yjt0aGlzLmE9W119SWEucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5mLmlkLGM9dGhpcy5jLm0sZD10aGlzO2I/KGMuX193ZWJmb250Zm9udGRlY2ttb2R1bGVfX3x8KGMuX193ZWJmb250Zm9udGRlY2ttb2R1bGVfXz17fSksYy5fX3dlYmZvbnRmb250ZGVja21vZHVsZV9fW2JdPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBnPTAsaz1jLmZvbnRzLmxlbmd0aDtnPGs7KytnKXt2YXIgaD1jLmZvbnRzW2ddO2QuYS5wdXNoKG5ldyBIKGgubmFtZSxnYShcImZvbnQtd2VpZ2h0OlwiK2gud2VpZ2h0K1wiO2ZvbnQtc3R5bGU6XCIraC5zdHlsZSkpKX1hKGQuYSl9LEIodGhpcy5jLHoodGhpcy5jKSsodGhpcy5mLmFwaXx8XCIvL2YuZm9udGRlY2suY29tL3MvY3NzL2pzL1wiKStlYSh0aGlzLmMpK1wiL1wiK2IrXCIuanNcIixmdW5jdGlvbihiKXtiJiZhKFtdKX0pKTphKFtdKX07dmFyIFk9bmV3IHBhKHdpbmRvdyk7WS5hLmMuY3VzdG9tPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyB1YShiLGEpfTtZLmEuYy5mb250ZGVjaz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgSWEoYixhKX07WS5hLmMubW9ub3R5cGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHNhKGIsYSl9O1kuYS5jLnR5cGVraXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEhhKGIsYSl9O1kuYS5jLmdvb2dsZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgRmEoYixhKX07dmFyIFo9e2xvYWQ6cChZLmxvYWQsWSl9O1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIFp9KTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9Wjood2luZG93LldlYkZvbnQ9Wix3aW5kb3cuV2ViRm9udENvbmZpZyYmWS5sb2FkKHdpbmRvdy5XZWJGb250Q29uZmlnKSk7fSgpKTtcbiIsIi8qISBza3JvbGxyIDAuNi4yNiAoMjAxNC0wNi0wOCkgfCBBbGV4YW5kZXIgUHJpbnpob3JuIC0gaHR0cHM6Ly9naXRodWIuY29tL1ByaW56aG9ybi9za3JvbGxyIHwgRnJlZSB0byB1c2UgdW5kZXIgdGVybXMgb2YgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihyKXtpZihvPXQuZG9jdW1lbnRFbGVtZW50LGE9dC5ib2R5LEsoKSxpdD10aGlzLHI9cnx8e30sdXQ9ci5jb25zdGFudHN8fHt9LHIuZWFzaW5nKWZvcih2YXIgbiBpbiByLmVhc2luZylVW25dPXIuZWFzaW5nW25dO3l0PXIuZWRnZVN0cmF0ZWd5fHxcInNldFwiLGN0PXtiZWZvcmVyZW5kZXI6ci5iZWZvcmVyZW5kZXIscmVuZGVyOnIucmVuZGVyLGtleWZyYW1lOnIua2V5ZnJhbWV9LGZ0PXIuZm9yY2VIZWlnaHQhPT0hMSxmdCYmKFZ0PXIuc2NhbGV8fDEpLG10PXIubW9iaWxlRGVjZWxlcmF0aW9ufHx4LGR0PXIuc21vb3RoU2Nyb2xsaW5nIT09ITEsZ3Q9ci5zbW9vdGhTY3JvbGxpbmdEdXJhdGlvbnx8RSx2dD17dGFyZ2V0VG9wOml0LmdldFNjcm9sbFRvcCgpfSxHdD0oci5tb2JpbGVDaGVja3x8ZnVuY3Rpb24oKXtyZXR1cm4vQW5kcm9pZHxpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fGUub3BlcmEpfSkoKSxHdD8oc3Q9dC5nZXRFbGVtZW50QnlJZChcInNrcm9sbHItYm9keVwiKSxzdCYmYXQoKSxYKCksRHQobyxbeSxTXSxbVF0pKTpEdChvLFt5LGJdLFtUXSksaXQucmVmcmVzaCgpLFN0KGUsXCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBlPW8uY2xpZW50V2lkdGgsdD1vLmNsaWVudEhlaWdodDsodCE9PSR0fHxlIT09TXQpJiYoJHQ9dCxNdD1lLF90PSEwKX0pO3ZhciBpPVkoKTtyZXR1cm4gZnVuY3Rpb24gbCgpe1ooKSxidD1pKGwpfSgpLGl0fXZhciBvLGEsaT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl0fSxpbml0OmZ1bmN0aW9uKGUpe3JldHVybiBpdHx8bmV3IG4oZSl9LFZFUlNJT046XCIwLjYuMjZcIn0sbD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHM9ZS5NYXRoLGM9ZS5nZXRDb21wdXRlZFN0eWxlLGY9XCJ0b3VjaHN0YXJ0XCIsdT1cInRvdWNobW92ZVwiLG09XCJ0b3VjaGNhbmNlbFwiLHA9XCJ0b3VjaGVuZFwiLGQ9XCJza3JvbGxhYmxlXCIsZz1kK1wiLWJlZm9yZVwiLHY9ZCtcIi1iZXR3ZWVuXCIsaD1kK1wiLWFmdGVyXCIseT1cInNrcm9sbHJcIixUPVwibm8tXCIreSxiPXkrXCItZGVza3RvcFwiLFM9eStcIi1tb2JpbGVcIixrPVwibGluZWFyXCIsdz0xZTMseD0uMDA0LEU9MjAwLEE9XCJzdGFydFwiLEY9XCJlbmRcIixDPVwiY2VudGVyXCIsRD1cImJvdHRvbVwiLEg9XCJfX19za3JvbGxhYmxlX2lkXCIsST0vXig/OmlucHV0fHRleHRhcmVhfGJ1dHRvbnxzZWxlY3QpJC9pLFA9L15cXHMrfFxccyskL2csTj0vXmRhdGEoPzotKF9cXHcrKSk/KD86LT8oLT9cXGQqXFwuP1xcZCtwPykpPyg/Oi0/KHN0YXJ0fGVuZHx0b3B8Y2VudGVyfGJvdHRvbSkpPyg/Oi0/KHRvcHxjZW50ZXJ8Ym90dG9tKSk/JC8sTz0vXFxzKihAP1tcXHdcXC1cXFtcXF1dKylcXHMqOlxccyooLis/KVxccyooPzo7fCQpL2dpLFY9L14oQD9bYS16XFwtXSspXFxbKFxcdyspXFxdJC8sej0vLShbYS16MC05X10pL2cscT1mdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9LEw9L1tcXC0rXT9bXFxkXSpcXC4/W1xcZF0rL2csTT0vXFx7XFw/XFx9L2csJD0vcmdiYT9cXChcXHMqLT9cXGQrXFxzKixcXHMqLT9cXGQrXFxzKixcXHMqLT9cXGQrL2csXz0vW2EtelxcLV0rLWdyYWRpZW50L2csQj1cIlwiLEc9XCJcIixLPWZ1bmN0aW9uKCl7dmFyIGU9L14oPzpPfE1venx3ZWJraXR8bXMpfCg/Oi0oPzpvfG1venx3ZWJraXR8bXMpLSkvO2lmKGMpe3ZhciB0PWMoYSxudWxsKTtmb3IodmFyIG4gaW4gdClpZihCPW4ubWF0Y2goZSl8fCtuPT1uJiZ0W25dLm1hdGNoKGUpKWJyZWFrO2lmKCFCKXJldHVybiBCPUc9XCJcIixyO0I9QlswXSxcIi1cIj09PUIuc2xpY2UoMCwxKT8oRz1CLEI9e1wiLXdlYmtpdC1cIjpcIndlYmtpdFwiLFwiLW1vei1cIjpcIk1velwiLFwiLW1zLVwiOlwibXNcIixcIi1vLVwiOlwiT1wifVtCXSk6Rz1cIi1cIitCLnRvTG93ZXJDYXNlKCkrXCItXCJ9fSxZPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGVbQi50b0xvd2VyQ2FzZSgpK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHI9UHQoKTtyZXR1cm4oR3R8fCF0KSYmKHQ9ZnVuY3Rpb24odCl7dmFyIG49UHQoKS1yLG89cy5tYXgoMCwxZTMvNjAtbik7cmV0dXJuIGUuc2V0VGltZW91dChmdW5jdGlvbigpe3I9UHQoKSx0KCl9LG8pfSksdH0sUj1mdW5jdGlvbigpe3ZhciB0PWUuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fGVbQi50b0xvd2VyQ2FzZSgpK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl07cmV0dXJuKEd0fHwhdCkmJih0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmNsZWFyVGltZW91dCh0KX0pLHR9LFU9e2JlZ2luOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGVuZDpmdW5jdGlvbigpe3JldHVybiAxfSxsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHF1YWRyYXRpYzpmdW5jdGlvbihlKXtyZXR1cm4gZSplfSxjdWJpYzpmdW5jdGlvbihlKXtyZXR1cm4gZSplKmV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi1zLmNvcyhlKnMuUEkpLzIrLjV9LHNxcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHMuc3FydChlKX0sb3V0Q3ViaWM6ZnVuY3Rpb24oZSl7cmV0dXJuIHMucG93KGUtMSwzKSsxfSxib3VuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoLjUwODM+PWUpdD0zO2Vsc2UgaWYoLjg0ODk+PWUpdD05O2Vsc2UgaWYoLjk2MjA4Pj1lKXQ9Mjc7ZWxzZXtpZighKC45OTk4MT49ZSkpcmV0dXJuIDE7dD05MX1yZXR1cm4gMS1zLmFicygzKnMuY29zKDEuMDI4KmUqdCkvdCl9fTtuLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGUpe3ZhciBuLG8sYT0hMTtmb3IoZT09PXI/KGE9ITAsbHQ9W10sQnQ9MCxlPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpKTplLmxlbmd0aD09PXImJihlPVtlXSksbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl7dmFyIGk9ZVtuXSxsPWkscz1bXSxjPWR0LGY9eXQsdT0hMTtpZihhJiZIIGluIGkmJmRlbGV0ZSBpW0hdLGkuYXR0cmlidXRlcyl7Zm9yKHZhciBtPTAscD1pLmF0dHJpYnV0ZXMubGVuZ3RoO3A+bTttKyspe3ZhciBnPWkuYXR0cmlidXRlc1ttXTtpZihcImRhdGEtYW5jaG9yLXRhcmdldFwiIT09Zy5uYW1lKWlmKFwiZGF0YS1zbW9vdGgtc2Nyb2xsaW5nXCIhPT1nLm5hbWUpaWYoXCJkYXRhLWVkZ2Utc3RyYXRlZ3lcIiE9PWcubmFtZSlpZihcImRhdGEtZW1pdC1ldmVudHNcIiE9PWcubmFtZSl7dmFyIHY9Zy5uYW1lLm1hdGNoKE4pO2lmKG51bGwhPT12KXt2YXIgaD17cHJvcHM6Zy52YWx1ZSxlbGVtZW50OmksZXZlbnRUeXBlOmcubmFtZS5yZXBsYWNlKHoscSl9O3MucHVzaChoKTt2YXIgeT12WzFdO3kmJihoLmNvbnN0YW50PXkuc3Vic3RyKDEpKTt2YXIgVD12WzJdOy9wJC8udGVzdChUKT8oaC5pc1BlcmNlbnRhZ2U9ITAsaC5vZmZzZXQ9KDB8VC5zbGljZSgwLC0xKSkvMTAwKTpoLm9mZnNldD0wfFQ7dmFyIGI9dlszXSxTPXZbNF18fGI7YiYmYiE9PUEmJmIhPT1GPyhoLm1vZGU9XCJyZWxhdGl2ZVwiLGguYW5jaG9ycz1bYixTXSk6KGgubW9kZT1cImFic29sdXRlXCIsYj09PUY/aC5pc0VuZD0hMDpoLmlzUGVyY2VudGFnZXx8KGgub2Zmc2V0PWgub2Zmc2V0KlZ0KSl9fWVsc2UgdT0hMDtlbHNlIGY9Zy52YWx1ZTtlbHNlIGM9XCJvZmZcIiE9PWcudmFsdWU7ZWxzZSBpZihsPXQucXVlcnlTZWxlY3RvcihnLnZhbHVlKSxudWxsPT09bCl0aHJvdydVbmFibGUgdG8gZmluZCBhbmNob3IgdGFyZ2V0IFwiJytnLnZhbHVlKydcIid9aWYocy5sZW5ndGgpe3ZhciBrLHcseDshYSYmSCBpbiBpPyh4PWlbSF0saz1sdFt4XS5zdHlsZUF0dHIsdz1sdFt4XS5jbGFzc0F0dHIpOih4PWlbSF09QnQrKyxrPWkuc3R5bGUuY3NzVGV4dCx3PUN0KGkpKSxsdFt4XT17ZWxlbWVudDppLHN0eWxlQXR0cjprLGNsYXNzQXR0cjp3LGFuY2hvclRhcmdldDpsLGtleUZyYW1lczpzLHNtb290aFNjcm9sbGluZzpjLGVkZ2VTdHJhdGVneTpmLGVtaXRFdmVudHM6dSxsYXN0RnJhbWVJbmRleDotMX0sRHQoaSxbZF0sW10pfX19Zm9yKEV0KCksbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl7dmFyIEU9bHRbZVtuXVtIXV07RSE9PXImJihKKEUpLGV0KEUpKX1yZXR1cm4gaXR9LG4ucHJvdG90eXBlLnJlbGF0aXZlVG9BYnNvbHV0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49by5jbGllbnRIZWlnaHQsYT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9YS50b3AsbD1hLmJvdHRvbS1hLnRvcDtyZXR1cm4gdD09PUQ/aS09bjp0PT09QyYmKGktPW4vMikscj09PUQ/aSs9bDpyPT09QyYmKGkrPWwvMiksaSs9aXQuZ2V0U2Nyb2xsVG9wKCksMHxpKy41fSxuLnByb3RvdHlwZS5hbmltYXRlVG89ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciBuPVB0KCksbz1pdC5nZXRTY3JvbGxUb3AoKTtyZXR1cm4gcHQ9e3N0YXJ0VG9wOm8sdG9wRGlmZjplLW8sdGFyZ2V0VG9wOmUsZHVyYXRpb246dC5kdXJhdGlvbnx8dyxzdGFydFRpbWU6bixlbmRUaW1lOm4rKHQuZHVyYXRpb258fHcpLGVhc2luZzpVW3QuZWFzaW5nfHxrXSxkb25lOnQuZG9uZX0scHQudG9wRGlmZnx8KHB0LmRvbmUmJnB0LmRvbmUuY2FsbChpdCwhMSkscHQ9ciksaXR9LG4ucHJvdG90eXBlLnN0b3BBbmltYXRlVG89ZnVuY3Rpb24oKXtwdCYmcHQuZG9uZSYmcHQuZG9uZS5jYWxsKGl0LCEwKSxwdD1yfSxuLnByb3RvdHlwZS5pc0FuaW1hdGluZ1RvPWZ1bmN0aW9uKCl7cmV0dXJuISFwdH0sbi5wcm90b3R5cGUuaXNNb2JpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gR3R9LG4ucHJvdG90eXBlLnNldFNjcm9sbFRvcD1mdW5jdGlvbih0LHIpe3JldHVybiBodD1yPT09ITAsR3Q/S3Q9cy5taW4ocy5tYXgodCwwKSxPdCk6ZS5zY3JvbGxUbygwLHQpLGl0fSxuLnByb3RvdHlwZS5nZXRTY3JvbGxUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gR3Q/S3Q6ZS5wYWdlWU9mZnNldHx8by5zY3JvbGxUb3B8fGEuc2Nyb2xsVG9wfHwwfSxuLnByb3RvdHlwZS5nZXRNYXhTY3JvbGxUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gT3R9LG4ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGN0W2VdPXQsaXR9LG4ucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIGN0W2VdLGl0fSxuLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGU9UigpO2UoYnQpLHd0KCksRHQobyxbVF0sW3ksYixTXSk7Zm9yKHZhciB0PTAsbj1sdC5sZW5ndGg7bj50O3QrKylvdChsdFt0XS5lbGVtZW50KTtvLnN0eWxlLm92ZXJmbG93PWEuc3R5bGUub3ZlcmZsb3c9XCJcIixvLnN0eWxlLmhlaWdodD1hLnN0eWxlLmhlaWdodD1cIlwiLHN0JiZpLnNldFN0eWxlKHN0LFwidHJhbnNmb3JtXCIsXCJub25lXCIpLGl0PXIsc3Q9cixjdD1yLGZ0PXIsT3Q9MCxWdD0xLHV0PXIsbXQ9cix6dD1cImRvd25cIixxdD0tMSxNdD0wLCR0PTAsX3Q9ITEscHQ9cixkdD1yLGd0PXIsdnQ9cixodD1yLEJ0PTAseXQ9cixHdD0hMSxLdD0wLFR0PXJ9O3ZhciBYPWZ1bmN0aW9uKCl7dmFyIG4saSxsLGMsZCxnLHYsaCx5LFQsYixTO1N0KG8sW2YsdSxtLHBdLmpvaW4oXCIgXCIpLGZ1bmN0aW9uKGUpe3ZhciBvPWUuY2hhbmdlZFRvdWNoZXNbMF07Zm9yKGM9ZS50YXJnZXQ7Mz09PWMubm9kZVR5cGU7KWM9Yy5wYXJlbnROb2RlO3N3aXRjaChkPW8uY2xpZW50WSxnPW8uY2xpZW50WCxUPWUudGltZVN0YW1wLEkudGVzdChjLnRhZ05hbWUpfHxlLnByZXZlbnREZWZhdWx0KCksZS50eXBlKXtjYXNlIGY6biYmbi5ibHVyKCksaXQuc3RvcEFuaW1hdGVUbygpLG49YyxpPXY9ZCxsPWcseT1UO2JyZWFrO2Nhc2UgdTpJLnRlc3QoYy50YWdOYW1lKSYmdC5hY3RpdmVFbGVtZW50IT09YyYmZS5wcmV2ZW50RGVmYXVsdCgpLGg9ZC12LFM9VC1iLGl0LnNldFNjcm9sbFRvcChLdC1oLCEwKSx2PWQsYj1UO2JyZWFrO2RlZmF1bHQ6Y2FzZSBtOmNhc2UgcDp2YXIgYT1pLWQsaz1sLWcsdz1rKmsrYSphO2lmKDQ5Pncpe2lmKCFJLnRlc3Qobi50YWdOYW1lKSl7bi5mb2N1cygpO3ZhciB4PXQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTt4LmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCxlLnZpZXcsMSxvLnNjcmVlblgsby5zY3JlZW5ZLG8uY2xpZW50WCxvLmNsaWVudFksZS5jdHJsS2V5LGUuYWx0S2V5LGUuc2hpZnRLZXksZS5tZXRhS2V5LDAsbnVsbCksbi5kaXNwYXRjaEV2ZW50KHgpfXJldHVybn1uPXI7dmFyIEU9aC9TO0U9cy5tYXgocy5taW4oRSwzKSwtMyk7dmFyIEE9cy5hYnMoRS9tdCksRj1FKkErLjUqbXQqQSpBLEM9aXQuZ2V0U2Nyb2xsVG9wKCktRixEPTA7Qz5PdD8oRD0oT3QtQykvRixDPU90KTowPkMmJihEPS1DL0YsQz0wKSxBKj0xLUQsaXQuYW5pbWF0ZVRvKDB8QysuNSx7ZWFzaW5nOlwib3V0Q3ViaWNcIixkdXJhdGlvbjpBfSl9fSksZS5zY3JvbGxUbygwLDApLG8uc3R5bGUub3ZlcmZsb3c9YS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwifSxqPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLG4sYSxpLGwsYyxmLHUsbSxwPW8uY2xpZW50SGVpZ2h0LGQ9QXQoKTtmb3IoYz0wLGY9bHQubGVuZ3RoO2Y+YztjKyspZm9yKGU9bHRbY10sdD1lLmVsZW1lbnQscj1lLmFuY2hvclRhcmdldCxuPWUua2V5RnJhbWVzLGE9MCxpPW4ubGVuZ3RoO2k+YTthKyspbD1uW2FdLHU9bC5vZmZzZXQsbT1kW2wuY29uc3RhbnRdfHwwLGwuZnJhbWU9dSxsLmlzUGVyY2VudGFnZSYmKHUqPXAsbC5mcmFtZT11KSxcInJlbGF0aXZlXCI9PT1sLm1vZGUmJihvdCh0KSxsLmZyYW1lPWl0LnJlbGF0aXZlVG9BYnNvbHV0ZShyLGwuYW5jaG9yc1swXSxsLmFuY2hvcnNbMV0pLXUsb3QodCwhMCkpLGwuZnJhbWUrPW0sZnQmJiFsLmlzRW5kJiZsLmZyYW1lPk90JiYoT3Q9bC5mcmFtZSk7Zm9yKE90PXMubWF4KE90LEZ0KCkpLGM9MCxmPWx0Lmxlbmd0aDtmPmM7YysrKXtmb3IoZT1sdFtjXSxuPWUua2V5RnJhbWVzLGE9MCxpPW4ubGVuZ3RoO2k+YTthKyspbD1uW2FdLG09ZFtsLmNvbnN0YW50XXx8MCxsLmlzRW5kJiYobC5mcmFtZT1PdC1sLm9mZnNldCttKTtlLmtleUZyYW1lcy5zb3J0KE50KX19LFc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPWx0Lmxlbmd0aDtuPnI7cisrKXt2YXIgbyxhLHM9bHRbcl0sYz1zLmVsZW1lbnQsZj1zLnNtb290aFNjcm9sbGluZz9lOnQsdT1zLmtleUZyYW1lcyxtPXUubGVuZ3RoLHA9dVswXSx5PXVbdS5sZW5ndGgtMV0sVD1wLmZyYW1lPmYsYj1mPnkuZnJhbWUsUz1UP3A6eSxrPXMuZW1pdEV2ZW50cyx3PXMubGFzdEZyYW1lSW5kZXg7aWYoVHx8Yil7aWYoVCYmLTE9PT1zLmVkZ2V8fGImJjE9PT1zLmVkZ2UpY29udGludWU7c3dpdGNoKFQ/KER0KGMsW2ddLFtoLHZdKSxrJiZ3Pi0xJiYoeHQoYyxwLmV2ZW50VHlwZSx6dCkscy5sYXN0RnJhbWVJbmRleD0tMSkpOihEdChjLFtoXSxbZyx2XSksayYmbT53JiYoeHQoYyx5LmV2ZW50VHlwZSx6dCkscy5sYXN0RnJhbWVJbmRleD1tKSkscy5lZGdlPVQ/LTE6MSxzLmVkZ2VTdHJhdGVneSl7Y2FzZVwicmVzZXRcIjpvdChjKTtjb250aW51ZTtjYXNlXCJlYXNlXCI6Zj1TLmZyYW1lO2JyZWFrO2RlZmF1bHQ6Y2FzZVwic2V0XCI6dmFyIHg9Uy5wcm9wcztmb3IobyBpbiB4KWwuY2FsbCh4LG8pJiYoYT1udCh4W29dLnZhbHVlKSwwPT09by5pbmRleE9mKFwiQFwiKT9jLnNldEF0dHJpYnV0ZShvLnN1YnN0cigxKSxhKTppLnNldFN0eWxlKGMsbyxhKSk7Y29udGludWV9fWVsc2UgMCE9PXMuZWRnZSYmKER0KGMsW2Qsdl0sW2csaF0pLHMuZWRnZT0wKTtmb3IodmFyIEU9MDttLTE+RTtFKyspaWYoZj49dVtFXS5mcmFtZSYmdVtFKzFdLmZyYW1lPj1mKXt2YXIgQT11W0VdLEY9dVtFKzFdO2ZvcihvIGluIEEucHJvcHMpaWYobC5jYWxsKEEucHJvcHMsbykpe3ZhciBDPShmLUEuZnJhbWUpLyhGLmZyYW1lLUEuZnJhbWUpO0M9QS5wcm9wc1tvXS5lYXNpbmcoQyksYT1ydChBLnByb3BzW29dLnZhbHVlLEYucHJvcHNbb10udmFsdWUsQyksYT1udChhKSwwPT09by5pbmRleE9mKFwiQFwiKT9jLnNldEF0dHJpYnV0ZShvLnN1YnN0cigxKSxhKTppLnNldFN0eWxlKGMsbyxhKX1rJiZ3IT09RSYmKFwiZG93blwiPT09enQ/eHQoYyxBLmV2ZW50VHlwZSx6dCk6eHQoYyxGLmV2ZW50VHlwZSx6dCkscy5sYXN0RnJhbWVJbmRleD1FKTticmVha319fSxaPWZ1bmN0aW9uKCl7X3QmJihfdD0hMSxFdCgpKTt2YXIgZSx0LG49aXQuZ2V0U2Nyb2xsVG9wKCksbz1QdCgpO2lmKHB0KW8+PXB0LmVuZFRpbWU/KG49cHQudGFyZ2V0VG9wLGU9cHQuZG9uZSxwdD1yKToodD1wdC5lYXNpbmcoKG8tcHQuc3RhcnRUaW1lKS9wdC5kdXJhdGlvbiksbj0wfHB0LnN0YXJ0VG9wK3QqcHQudG9wRGlmZiksaXQuc2V0U2Nyb2xsVG9wKG4sITApO2Vsc2UgaWYoIWh0KXt2YXIgYT12dC50YXJnZXRUb3AtbjthJiYodnQ9e3N0YXJ0VG9wOnF0LHRvcERpZmY6bi1xdCx0YXJnZXRUb3A6bixzdGFydFRpbWU6THQsZW5kVGltZTpMdCtndH0pLHZ0LmVuZFRpbWU+PW8mJih0PVUuc3FydCgoby12dC5zdGFydFRpbWUpL2d0KSxuPTB8dnQuc3RhcnRUb3ArdCp2dC50b3BEaWZmKX1pZihHdCYmc3QmJmkuc2V0U3R5bGUoc3QsXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCBcIistS3QrXCJweCkgXCIrVHQpLGh0fHxxdCE9PW4pe3p0PW4+cXQ/XCJkb3duXCI6cXQ+bj9cInVwXCI6enQsaHQ9ITE7dmFyIGw9e2N1clRvcDpuLGxhc3RUb3A6cXQsbWF4VG9wOk90LGRpcmVjdGlvbjp6dH0scz1jdC5iZWZvcmVyZW5kZXImJmN0LmJlZm9yZXJlbmRlci5jYWxsKGl0LGwpO3MhPT0hMSYmKFcobixpdC5nZXRTY3JvbGxUb3AoKSkscXQ9bixjdC5yZW5kZXImJmN0LnJlbmRlci5jYWxsKGl0LGwpKSxlJiZlLmNhbGwoaXQsITEpfUx0PW99LEo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj1lLmtleUZyYW1lcy5sZW5ndGg7cj50O3QrKyl7Zm9yKHZhciBuLG8sYSxpLGw9ZS5rZXlGcmFtZXNbdF0scz17fTtudWxsIT09KGk9Ty5leGVjKGwucHJvcHMpKTspYT1pWzFdLG89aVsyXSxuPWEubWF0Y2goViksbnVsbCE9PW4/KGE9blsxXSxuPW5bMl0pOm49ayxvPW8uaW5kZXhPZihcIiFcIik/UShvKTpbby5zbGljZSgxKV0sc1thXT17dmFsdWU6byxlYXNpbmc6VVtuXX07bC5wcm9wcz1zfX0sUT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gJC5sYXN0SW5kZXg9MCxlPWUucmVwbGFjZSgkLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoTCxmdW5jdGlvbihlKXtyZXR1cm4gMTAwKihlLzI1NSkrXCIlXCJ9KX0pLEcmJihfLmxhc3RJbmRleD0wLGU9ZS5yZXBsYWNlKF8sZnVuY3Rpb24oZSl7cmV0dXJuIEcrZX0pKSxlPWUucmVwbGFjZShMLGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2goK2UpLFwiez99XCJ9KSx0LnVuc2hpZnQoZSksdH0sZXQ9ZnVuY3Rpb24oZSl7dmFyIHQscixuPXt9O2Zvcih0PTAscj1lLmtleUZyYW1lcy5sZW5ndGg7cj50O3QrKyl0dChlLmtleUZyYW1lc1t0XSxuKTtmb3Iobj17fSx0PWUua2V5RnJhbWVzLmxlbmd0aC0xO3Q+PTA7dC0tKXR0KGUua2V5RnJhbWVzW3RdLG4pfSx0dD1mdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyIGluIHQpbC5jYWxsKGUucHJvcHMscil8fChlLnByb3BzW3JdPXRbcl0pO2ZvcihyIGluIGUucHJvcHMpdFtyXT1lLnByb3BzW3JdfSxydD1mdW5jdGlvbihlLHQscil7dmFyIG4sbz1lLmxlbmd0aDtpZihvIT09dC5sZW5ndGgpdGhyb3dcIkNhbid0IGludGVycG9sYXRlIGJldHdlZW4gXFxcIlwiK2VbMF0rJ1wiIGFuZCBcIicrdFswXSsnXCInO3ZhciBhPVtlWzBdXTtmb3Iobj0xO28+bjtuKyspYVtuXT1lW25dKyh0W25dLWVbbl0pKnI7cmV0dXJuIGF9LG50PWZ1bmN0aW9uKGUpe3ZhciB0PTE7cmV0dXJuIE0ubGFzdEluZGV4PTAsZVswXS5yZXBsYWNlKE0sZnVuY3Rpb24oKXtyZXR1cm4gZVt0KytdfSl9LG90PWZ1bmN0aW9uKGUsdCl7ZT1bXS5jb25jYXQoZSk7Zm9yKHZhciByLG4sbz0wLGE9ZS5sZW5ndGg7YT5vO28rKyluPWVbb10scj1sdFtuW0hdXSxyJiYodD8obi5zdHlsZS5jc3NUZXh0PXIuZGlydHlTdHlsZUF0dHIsRHQobixyLmRpcnR5Q2xhc3NBdHRyKSk6KHIuZGlydHlTdHlsZUF0dHI9bi5zdHlsZS5jc3NUZXh0LHIuZGlydHlDbGFzc0F0dHI9Q3Qobiksbi5zdHlsZS5jc3NUZXh0PXIuc3R5bGVBdHRyLER0KG4sci5jbGFzc0F0dHIpKSl9LGF0PWZ1bmN0aW9uKCl7VHQ9XCJ0cmFuc2xhdGVaKDApXCIsaS5zZXRTdHlsZShzdCxcInRyYW5zZm9ybVwiLFR0KTt2YXIgZT1jKHN0KSx0PWUuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKSxyPWUuZ2V0UHJvcGVydHlWYWx1ZShHK1widHJhbnNmb3JtXCIpLG49dCYmXCJub25lXCIhPT10fHxyJiZcIm5vbmVcIiE9PXI7bnx8KFR0PVwiXCIpfTtpLnNldFN0eWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnN0eWxlO2lmKHQ9dC5yZXBsYWNlKHoscSkucmVwbGFjZShcIi1cIixcIlwiKSxcInpJbmRleFwiPT09dCluW3RdPWlzTmFOKHIpP3I6XCJcIisoMHxyKTtlbHNlIGlmKFwiZmxvYXRcIj09PXQpbi5zdHlsZUZsb2F0PW4uY3NzRmxvYXQ9cjtlbHNlIHRyeXtCJiYobltCK3Quc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldPXIpLG5bdF09cn1jYXRjaChvKXt9fTt2YXIgaXQsbHQsc3QsY3QsZnQsdXQsbXQscHQsZHQsZ3QsdnQsaHQseXQsVHQsYnQsU3Q9aS5hZGRFdmVudD1mdW5jdGlvbih0LHIsbil7dmFyIG89ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8ZS5ldmVudCx0LnRhcmdldHx8KHQudGFyZ2V0PXQuc3JjRWxlbWVudCksdC5wcmV2ZW50RGVmYXVsdHx8KHQucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0LnJldHVyblZhbHVlPSExLHQuZGVmYXVsdFByZXZlbnRlZD0hMH0pLG4uY2FsbCh0aGlzLHQpfTtyPXIuc3BsaXQoXCIgXCIpO2Zvcih2YXIgYSxpPTAsbD1yLmxlbmd0aDtsPmk7aSsrKWE9cltpXSx0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKGEsbiwhMSk6dC5hdHRhY2hFdmVudChcIm9uXCIrYSxvKSxZdC5wdXNoKHtlbGVtZW50OnQsbmFtZTphLGxpc3RlbmVyOm59KX0sa3Q9aS5yZW1vdmVFdmVudD1mdW5jdGlvbihlLHQscil7dD10LnNwbGl0KFwiIFwiKTtmb3IodmFyIG49MCxvPXQubGVuZ3RoO28+bjtuKyspZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0W25dLHIsITEpOmUuZGV0YWNoRXZlbnQoXCJvblwiK3Rbbl0scil9LHd0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MCxyPVl0Lmxlbmd0aDtyPnQ7dCsrKWU9WXRbdF0sa3QoZS5lbGVtZW50LGUubmFtZSxlLmxpc3RlbmVyKTtZdD1bXX0seHQ9ZnVuY3Rpb24oZSx0LHIpe2N0LmtleWZyYW1lJiZjdC5rZXlmcmFtZS5jYWxsKGl0LGUsdCxyKX0sRXQ9ZnVuY3Rpb24oKXt2YXIgZT1pdC5nZXRTY3JvbGxUb3AoKTtPdD0wLGZ0JiYhR3QmJihhLnN0eWxlLmhlaWdodD1cIlwiKSxqKCksZnQmJiFHdCYmKGEuc3R5bGUuaGVpZ2h0PU90K28uY2xpZW50SGVpZ2h0K1wicHhcIiksR3Q/aXQuc2V0U2Nyb2xsVG9wKHMubWluKGl0LmdldFNjcm9sbFRvcCgpLE90KSk6aXQuc2V0U2Nyb2xsVG9wKGUsITApLGh0PSEwfSxBdD1mdW5jdGlvbigpe3ZhciBlLHQscj1vLmNsaWVudEhlaWdodCxuPXt9O2ZvcihlIGluIHV0KXQ9dXRbZV0sXCJmdW5jdGlvblwiPT10eXBlb2YgdD90PXQuY2FsbChpdCk6L3AkLy50ZXN0KHQpJiYodD10LnNsaWNlKDAsLTEpLzEwMCpyKSxuW2VdPXQ7cmV0dXJuIG59LEZ0PWZ1bmN0aW9uKCl7dmFyIGU9c3QmJnN0Lm9mZnNldEhlaWdodHx8MCx0PXMubWF4KGUsYS5zY3JvbGxIZWlnaHQsYS5vZmZzZXRIZWlnaHQsby5zY3JvbGxIZWlnaHQsby5vZmZzZXRIZWlnaHQsby5jbGllbnRIZWlnaHQpO3JldHVybiB0LW8uY2xpZW50SGVpZ2h0fSxDdD1mdW5jdGlvbih0KXt2YXIgcj1cImNsYXNzTmFtZVwiO3JldHVybiBlLlNWR0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBlLlNWR0VsZW1lbnQmJih0PXRbcl0scj1cImJhc2VWYWxcIiksdFtyXX0sRHQ9ZnVuY3Rpb24odCxuLG8pe3ZhciBhPVwiY2xhc3NOYW1lXCI7aWYoZS5TVkdFbGVtZW50JiZ0IGluc3RhbmNlb2YgZS5TVkdFbGVtZW50JiYodD10W2FdLGE9XCJiYXNlVmFsXCIpLG89PT1yKXJldHVybiB0W2FdPW4scjtmb3IodmFyIGk9dFthXSxsPTAscz1vLmxlbmd0aDtzPmw7bCsrKWk9SXQoaSkucmVwbGFjZShJdChvW2xdKSxcIiBcIik7aT1IdChpKTtmb3IodmFyIGM9MCxmPW4ubGVuZ3RoO2Y+YztjKyspLTE9PT1JdChpKS5pbmRleE9mKEl0KG5bY10pKSYmKGkrPVwiIFwiK25bY10pO3RbYV09SHQoaSl9LEh0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoUCxcIlwiKX0sSXQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCIgXCIrZStcIiBcIn0sUHQ9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxOdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZyYW1lLXQuZnJhbWV9LE90PTAsVnQ9MSx6dD1cImRvd25cIixxdD0tMSxMdD1QdCgpLE10PTAsJHQ9MCxfdD0hMSxCdD0wLEd0PSExLEt0PTAsWXQ9W107XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcInNrcm9sbHJcIixmdW5jdGlvbigpe3JldHVybiBpfSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9aTplLnNrcm9sbHI9aX0pKHdpbmRvdyxkb2N1bWVudCk7IiwiLyohIHNrcm9sbHItbWVudSAxLjAuMyAoMjAxNS0wNi0xOSkgfCBBbGV4YW5kZXIgUHJpbnpob3JuIC0gaHR0cHM6Ly9naXRodWIuY29tL1ByaW56aG9ybi9za3JvbGxyLW1lbnUgfCBGcmVlIHRvIHVzZSB1bmRlciB0ZXJtcyBvZiBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49NTAwLGE9XCJzcXJ0XCIsbz0xLHI9XCJkYXRhLW1lbnUtdG9wXCIsaT1cImRhdGEtbWVudS1vZmZzZXRcIix1PVwiZGF0YS1tZW51LWR1cmF0aW9uXCIsYz1cImRhdGEtbWVudS1pZ25vcmVcIixsPWUuc2tyb2xscixzPWUuaGlzdG9yeSxmPSEhcy5wdXNoU3RhdGUsaD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PXQmJmU/XCJBXCI9PT1lLnRhZ05hbWUudG9VcHBlckNhc2UoKT9lOmgoZS5wYXJlbnROb2RlKTohMX0scD1mdW5jdGlvbih0KXtpZigxPT09dC53aGljaHx8MD09PXQuYnV0dG9uKXt2YXIgZT1oKHQudGFyZ2V0KTtlJiZtKGUpJiZ0LnByZXZlbnREZWZhdWx0KCl9fSxtPWZ1bmN0aW9uKG4sYSl7dmFyIG87aWYoeSl7aWYobi5ob3N0bmFtZSE9PWUubG9jYXRpb24uaG9zdG5hbWUpcmV0dXJuITE7aWYobi5wYXRobmFtZSE9PXQubG9jYXRpb24ucGF0aG5hbWUpcmV0dXJuITE7bz1uLmhhc2h9ZWxzZSBvPW4uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtpZighL14jLy50ZXN0KG8pKXJldHVybiExO2lmKCFhJiZudWxsIT09bi5nZXRBdHRyaWJ1dGUoYykpcmV0dXJuITE7dmFyIGwsaDtpZihoPVQ/VChuKTpuLmdldEF0dHJpYnV0ZShyKSxudWxsIT09aClsPS9wJC8udGVzdChoKT9oLnNsaWNlKDAsLTEpLzEwMCp0LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6K2gqaztlbHNle3ZhciBwPXQuZ2V0RWxlbWVudEJ5SWQoby5zdWJzdHIoMSkpO2lmKCFwKXJldHVybiExO2w9di5yZWxhdGl2ZVRvQWJzb2x1dGUocCxcInRvcFwiLFwidG9wXCIpO3ZhciBtPXAuZ2V0QXR0cmlidXRlKGkpO251bGwhPT1tJiYobCs9K20pfWYmJk4mJiFhJiZzLnB1c2hTdGF0ZSh7dG9wOmx9LFwiXCIsbyk7dmFyIGQ9cGFyc2VJbnQobi5nZXRBdHRyaWJ1dGUodSksMTApLHE9QSh2LmdldFNjcm9sbFRvcCgpLGwpO3JldHVybiBpc05hTihkKXx8KHE9ZCksRSYmRShvLGwpLFMmJiFhP3YuYW5pbWF0ZVRvKGwse2R1cmF0aW9uOnEsZWFzaW5nOmJ9KTpnKGZ1bmN0aW9uKCl7di5zZXRTY3JvbGxUb3AobCl9KSwhMH0sZD1mdW5jdGlvbigpe2lmKGUubG9jYXRpb24uaGFzaCYmdC5xdWVyeVNlbGVjdG9yKXt2YXIgbj10LnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZj1cIicrZS5sb2NhdGlvbi5oYXNoKydcIl0nKTtufHwobj10LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLG4uaHJlZj1lLmxvY2F0aW9uLmhhc2gpLG0obiwhMCl9fSxnPWZ1bmN0aW9uKHQpe2Uuc2V0VGltZW91dCh0LDEpfTtsLm1lbnU9e30sbC5tZW51LmluaXQ9ZnVuY3Rpb24ocixpKXt2PXIsaT1pfHx7fSxiPWkuZWFzaW5nfHxhLFM9aS5hbmltYXRlIT09ITEsQT1pLmR1cmF0aW9ufHxuLFQ9aS5oYW5kbGVMaW5rLGs9aS5zY2FsZXx8byx5PWkuY29tcGxleExpbmtzPT09ITAsRT1pLmNoYW5nZSxOPWkudXBkYXRlVXJsIT09ITEsXCJudW1iZXJcIj09dHlwZW9mIEEmJihBPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0oQSkpLGwuYWRkRXZlbnQodCxcImNsaWNrXCIscCksZiYmbC5hZGRFdmVudChlLFwicG9wc3RhdGVcIixmdW5jdGlvbih0KXt2YXIgZT10LnN0YXRlfHx7fSxuPWUudG9wfHwwO2coZnVuY3Rpb24oKXt2LnNldFNjcm9sbFRvcChuKX0pfSwhMSksZCgpfSxsLm1lbnUuY2xpY2s9ZnVuY3Rpb24odCl7bSh0KX07dmFyIHYsYixBLFMsVCxrLHksRSxOO2coZnVuY3Rpb24oKXtlLmxvY2F0aW9uLmhhc2gmJmUuc2Nyb2xsVG8oMCwwKX0pfSkoZG9jdW1lbnQsd2luZG93KTsiLCIvKipcclxuICAqIDIwMTYtMjAxNyAoQykgQW50b25pbyBSZWRvbmRvIC8gYW50b25pb3JlZG9uZG8uY29tXHJcbiAgKlxyXG4gICogXCJvXCIgaXMgYSBuYW5vLWxpYnJhcnkgd2hpY2ggY29udGFpbnMgYSBidW5jaCBvZiBmdW5jdGlvbnMgdG8gZGVhbCB3aXRoIGJhc2ljIERPTSB0YXNrcyBidXQgd2l0aCBhIHNob3J0ZXIgbmFtZS5cclxuICAqIEl0IGFsc28gY29udGFpbnMgZnVuY3Rpb25zIHRvIGRlYWwgd2l0aCBjb29raWVzLCBhbmQgQ1NTIHRyYW5zZm9ybXMgc3VwcG9ydCBjaGVja2luZy5cclxuICAqIE1haW5seSB1c2VkIG9uIG15IHBlcnNvbmFsIHByb2plY3RzIGJ1dCBvcGVuIHRvIGFueW9uZS5cclxuICAqL1xyXG5cclxuKGZ1bmN0aW9uKG8pIHtcclxuXHRcclxuXHRvLmdpID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcblx0fTtcclxuXHRcclxuXHRvLmdjID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpWzBdO1xyXG5cdH07XHJcblx0XHJcblx0by5nY2EgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcclxuXHRcdHJldHVybiBbXS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSk7XHJcblx0fTtcclxuXHRcclxuXHRvLnFzID0gZnVuY3Rpb24ocXVlcnkpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTtcclxuXHR9O1xyXG5cdFxyXG5cdG8ucXNhID0gZnVuY3Rpb24ocXVlcnkpIHtcclxuXHRcdHJldHVybiBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpKTtcclxuXHR9O1xyXG5cdFxyXG5cdG8uYWUgPSBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spIHtcclxuXHRcdHJldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG5cdH07XHJcblx0XHJcblx0by50byA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aW1lKSB7XHJcblx0XHRyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWUpO1xyXG5cdH07XHJcblx0XHJcblx0by5zaSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aW1lKSB7XHJcblx0XHRyZXR1cm4gd2luZG93LnNldEludGVydmFsKGNhbGxiYWNrLCB0aW1lKTtcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdG8uZ2V0UmFuZG9tSW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbWluID0gLTUwLCBtYXggPSA1MDtcclxuXHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xyXG5cdH07XHJcblx0XHJcblx0XHJcblx0XHJcblx0XHJcblx0XHJcblx0by5jYWxjVG90YWxIZWlnaHQgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xyXG5cdFx0dmFyIHRvdGFsID0gMCxcclxuXHRcdFx0ZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKG8ucXNhKHNlbGVjdG9yKSk7XHJcblx0XHRcdFxyXG5cdFx0ZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRvdGFsICs9IGUuc2Nyb2xsSGVpZ2h0O1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vIGNvbnNvbGUubG9nKHRvdGFsKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHRvdGFsO1xyXG5cdH07XHJcblx0XHJcblx0by5jYWxjUmVsYXRpdmVQb3NpdGlvbnMgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xyXG5cdFx0dmFyIHBvc2l0aW9ucyA9IFtdLFxyXG5cdFx0XHRlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoby5xc2Eoc2VsZWN0b3IpKTtcclxuXHRcdFxyXG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0XHJcblx0XHRlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0cG9zaXRpb25zLnB1c2goZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdHJldHVybiBwb3NpdGlvbnM7XHJcblx0fTtcclxuXHRcclxuXHRvLmNhbGNBYnNvbHV0ZVBvc2l0aW9uID0gZnVuY3Rpb24ocGFyZW50U2VsZWN0b3IsIGNoaWxkU2VsZWN0b3IpIHtcclxuXHRcdHZhciBwYXJlbnQgPSBvLnFzKHBhcmVudFNlbGVjdG9yKTtcclxuXHRcdHZhciBjaGlsZCA9IG8ucXMoY2hpbGRTZWxlY3Rvcik7XHJcblx0XHRcclxuXHRcdGlmICghcGFyZW50IHx8ICFjaGlsZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0XHJcblx0XHR2YXIgb2Zmc2V0ID0ge1xyXG5cdFx0XHRsZWZ0OiAwLFxyXG5cdFx0XHR0b3A6IDBcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHdoaWxlIChjaGlsZCAhPT0gcGFyZW50ICYmIGNoaWxkKSB7XHJcblx0XHRcdG9mZnNldC5sZWZ0ICs9IGNoaWxkLm9mZnNldExlZnQ7XHJcblx0XHRcdG9mZnNldC50b3AgKz0gY2hpbGQub2Zmc2V0VG9wO1xyXG5cdFx0XHRjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG9mZnNldDtcclxuXHR9O1xyXG5cdFxyXG5cdG8uY2hlY2tUcmFuc2Zvcm1zU3VwcG9ydGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRyZXR1cm4gXCJ0cmFuc2Zvcm1cIjtcclxuXHRcdGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZClcclxuXHRcdFx0cmV0dXJuIFwid2Via2l0VHJhbnNmb3JtXCI7XHJcblx0fTtcclxuXHRcclxuXHRcclxuXHRcclxuXHRcclxuXHRcclxuXHR2YXIgZWxlbWVudHNUb0xvYWQgPSBbXSxcclxuXHRcdGNhbGxiYWNrcyA9IFtdO1xyXG5cdFx0XHJcblx0dmFyIHJ1bkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGFsbExvYWRlZCA9IGVsZW1lbnRzVG9Mb2FkLmV2ZXJ5KGZ1bmN0aW9uKGkpIHtcclxuXHRcdFx0cmV0dXJuIGkubG9hZGVkO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdGlmIChhbGxMb2FkZWQpIHtcclxuXHRcdFx0Y2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oaSkge1xyXG5cdFx0XHRcdGkoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHRvLm5vdGlmeVdoZW5Mb2FkZWQgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xyXG5cdFx0dmFyIGVsZW1lbnRUb0xvYWQgPSB7XHJcblx0XHRcdHNlbGVjdG9yOiBzZWxlY3RvcixcclxuXHRcdFx0bG9hZGVkOiBmYWxzZSxcclxuXHRcdFx0Z2V0IHNldEFzTG9hZGVkKCkge1xyXG5cdFx0XHRcdHRoaXMubG9hZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRydW5DYWxsYmFja3MoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBDaHJvbWUgNTMgd29ya3MuIEZpcmVmb3ggNDkgYW5kIEVkZ2UgMTQgZG9uXCJ0XHJcblx0XHRcdC8vc2V0QXNMb2FkZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvL1x0ZWxlbWVudFRvTG9hZC5sb2FkZWQgPSB0cnVlO1xyXG5cdFx0XHQvL1x0cnVuQ2FsbGJhY2tzKCk7XHJcblx0XHRcdC8vXHRjb25zb2xlLmxvZyhcImJiYlwiKTtcclxuXHRcdFx0Ly99XHJcblx0XHRcdC8vIERvZXNuXCJ0IHdvcmsgb24gYnJvd3NlcnNcclxuXHRcdFx0Ly9zZXRBc0xvYWRlZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vXHR0aGlzLmxvYWRlZCA9IHRydWU7XHJcblx0XHRcdC8vXHRydW5DYWxsYmFja3MoKTtcclxuXHRcdFx0Ly9cdGNvbnNvbGUubG9nKFwiY2NjXCIpO1xyXG5cdFx0XHQvL31cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHZhciBlbGVtZW50ID0gby5xcyhzZWxlY3Rvcik7XHJcblx0XHRpZiAoZWxlbWVudCkge1xyXG5cdFx0XHRlbGVtZW50c1RvTG9hZC5wdXNoKGVsZW1lbnRUb0xvYWQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xOTc3ODcxL2NoZWNrLWlmLWFuLWltYWdlLWlzLWxvYWRlZC1uby1lcnJvcnMtaW4tamF2YXNjcmlwdFxyXG5cdFx0XHRpZiAoZWxlbWVudC5jb21wbGV0ZSAmJiBlbGVtZW50Lm5hdHVyYWxIZWlnaHQgIT09IDApIHtcclxuXHRcdFx0XHQvKmpzaGludCAtVzAzMCAqL1xyXG5cdFx0XHRcdGVsZW1lbnRUb0xvYWQuc2V0QXNMb2FkZWQ7XHJcblx0XHRcdFx0Lypqc2hpbnQgK1cwMzAgKi9cclxuXHRcdFx0fSBlbHNlIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZWxlbWVudFRvTG9hZC5zZXRBc0xvYWRlZCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiBlbGVtZW50O1xyXG5cdH07XHJcblx0XHJcblx0by5ydW5XaGVuQWxsTG9hZGVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuXHRcdHJ1bkNhbGxiYWNrcygpO1xyXG5cdH07XHJcblx0XHJcblx0by5yZXNldEVsZW1lbnRzVG9Mb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRlbGVtZW50c1RvTG9hZCA9IFtdO1xyXG5cdFx0Y2FsbGJhY2tzID0gW107XHJcblx0fTtcclxuXHRcclxuXHRcclxuXHRcclxuXHRcclxuXHRcclxuXHRvLmdldENvb2tpZSA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHRcdHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCIsXHJcblx0XHRcdFx0Y2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO1xyXG5cdFx0Zm9yICh2YXIgaT0wO2kgPCBjYS5sZW5ndGg7aSsrKSB7XHJcblx0XHRcdHZhciBjID0gY2FbaV07XHJcblx0XHRcdHdoaWxlIChjLmNoYXJBdCgwKSA9PSBcIiBcIilcclxuXHRcdFx0XHRjID0gYy5zdWJzdHJpbmcoMSxjLmxlbmd0aCk7XHJcblx0XHRcdGlmIChjLmluZGV4T2YobmFtZUVRKSA9PT0gMClcclxuXHRcdFx0XHRyZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCxjLmxlbmd0aCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9O1xyXG5cdFxyXG5cdG8uc2V0Q29va2llID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGRheXMpIHtcclxuXHRcdHZhciBleHBpcmVzO1xyXG5cdFx0aWYgKGRheXMpIHtcclxuXHRcdFx0dmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF5cyoyNCo2MCo2MCoxMDAwKSk7XHJcblx0XHRcdGV4cGlyZXMgPSBcIjsgZXhwaXJlcz1cIiArIGRhdGUudG9HTVRTdHJpbmcoKTtcclxuXHRcdH0gZWxzZSBleHBpcmVzID0gXCJcIjtcclxuXHRcdGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgZXhwaXJlcyArIFwiOyBwYXRoPS9cIjtcclxuXHR9O1xyXG5cdFxyXG5cdG8ucmVtb3ZlQ29va2llID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0dGhpcy5zZXRDb29raWUobmFtZSxcIlwiLC0xKTtcclxuXHR9O1xyXG5cdFxyXG59KHdpbmRvdy5vID0gd2luZG93Lm8gfHwge30pKTtcclxuIiwiXG5mdW5jdGlvbiBzaG93VG9wQmFyRW50cmllcygpIHtcblx0dmFyIG1lbnVFbnRyaWVzID0gby5xc2EoXCIudG9wLWJhcl9fdGFiLWNvbnRhaW5lcjpudGgtY2hpbGQobiszKVwiKTtcblx0bWVudUVudHJpZXMuZm9yRWFjaChmdW5jdGlvbihlLCBpKSB7XG5cdFx0ZS5jbGFzc0xpc3QuYWRkKFwidG9wLWJhcl9fdGFiLWNvbnRhaW5lci0taW5cIik7XG5cdFx0ZS5jbGFzc0xpc3QuYWRkKFwidG9wLWJhcl9fdGFiLWNvbnRhaW5lci0taW5cIiArIChpICsgMSkpO1xuXHR9KTtcbn1cblxuXG5cblxuXG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS95b3V0dWJlL3BsYXllcl9wYXJhbWV0ZXJzXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg4NjkzNzIvaG93LWRvLWktYXV0b21hdGljYWxseS1wbGF5LWEteW91dHViZS12aWRlby1pZnJhbWUtYXBpLW11dGVkXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwNTAxMDEwL3lvdXR1YmUtYXBpLW9ucGxheWVycmVhZHktbm90LWZpcmluZ1xuZnVuY3Rpb24gb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKSB7XG5cdHZhciBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKFwiaW50cm9fX3ZpZGVvXCIsIHtcblx0XHRldmVudHM6IHtcblx0XHRcdG9uUmVhZHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRwbGF5ZXIubXV0ZSgpO1xuXHRcdFx0XHRwbGF5ZXIucGxheVZpZGVvKCk7XG5cdFx0XHR9LFxuXHRcdFx0b25TdGF0ZUNoYW5nZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoZS5kYXRhID09PSBZVC5QbGF5ZXJTdGF0ZS5QTEFZSU5HKSB7XG5cdFx0XHRcdFx0c2hvd1RvcEJhckVudHJpZXMoKTtcblx0XHRcdFx0XHRvLmdjKFwiaW50cm9fX3ZpZGVvXCIpLmNsYXNzTGlzdC5hZGQoXCJpbnRyb19fdmlkZW8tLWluXCIpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFRoZSAnZW5kJyBhbmQgJ2xvb3AnIFlvdVR1YmUgcGFyYW1ldGVycyBkaWRuJ3Qgd29ya1xuXHRcdFx0XHRcdG8uc2koZnVuY3Rpb24oKSB7IHBsYXllci5zZWVrVG8oMCk7IH0sIDIwMDAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cblxuXG5cblxuZnVuY3Rpb24gc2V0Qm9keUhlaWdodChoZWlnaHQpIHtcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG59XG5cblxuXG5cblxuZnVuY3Rpb24gbW92ZUxpbmUocG9zaXRpb24pIHtcblx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0aWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgJiYgaGFzaCkge1xuXHRcdHN3aXRjaCAoaGFzaC5zbGljZSgxKSkge1xuXHRcdFx0Y2FzZSBcImludHJvXCI6XHRcdHBvc2l0aW9uID0gMDsgYnJlYWs7XG5cdFx0XHRjYXNlIFwid2hvLXdlLWFyZVwiOlx0cG9zaXRpb24gPSAxOyBicmVhaztcblx0XHRcdGNhc2UgXCJhY3Rpdml0aWVzXCI6XHRwb3NpdGlvbiA9IDI7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcInRoZS1ib2FyZFwiOlx0cG9zaXRpb24gPSAzOyBicmVhaztcblx0XHRcdGNhc2UgXCJqb2luLXVzXCI6XHRcdHBvc2l0aW9uID0gNDsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiZmFxXCI6XHRcdFx0cG9zaXRpb24gPSA1OyBicmVhaztcblx0XHRcdGNhc2UgXCJjb250YWN0XCI6XHRcdHBvc2l0aW9uID0gNjsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0Olx0XHRcdHBvc2l0aW9uID0gNTtcblx0XHR9XG5cdH0gZWxzZSBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdHBvc2l0aW9uID0gMDtcblx0fVxuXHRcblx0dmFyIHRvcEJhclBvc2l0aW9ucyA9IG8uY2FsY1JlbGF0aXZlUG9zaXRpb25zKFwiLnRvcC1iYXJfX3RhYlwiKTtcblx0dmFyIGxpbmUgPSBvLmdjKFwidG9wLWJhcl9fbGluZVwiKTtcblx0bGluZS5zdHlsZS53aWR0aCA9IHRvcEJhclBvc2l0aW9uc1twb3NpdGlvbl0ud2lkdGggKyBcInB4XCI7XG5cdGxpbmUuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZChcIiArIHRvcEJhclBvc2l0aW9uc1twb3NpdGlvbl0ubGVmdCArIFwicHgsIDAsIDApXCI7XG59XG5cblxuXG5cblxuZnVuY3Rpb24gaW5pdCgpIHtcblx0by50byhmdW5jdGlvbigpIHsgc2hvd1RvcEJhckVudHJpZXMoKTsgfSwgMzAwMCk7XG5cdHNldEJvZHlIZWlnaHQoby5jYWxjVG90YWxIZWlnaHQoXCJzZWN0aW9uLnNrcm9sbHItZGVja1wiKSk7XG5cdG1vdmVMaW5lKCk7XG5cdFxuXHR2YXIgYnJlYWtwb2ludE1vYmlsZSA9IDgxMDtcblx0XG5cdFxuXHRcblx0Ly8gU2V0cyB1cCBTa3JvbGxlclxuXHR2YXIgZ2FwID0gMzAwO1xuXHR2YXIgb2Zmc2V0RnVuY3Rpb25zID0ge1xuXHRcdFx0Z2V0IGQwKCkgeyByZXR1cm4gby5naShcImludHJvXCIpLnNjcm9sbEhlaWdodDsgfSxcblx0XHRcdGdldCBkMGcoKSB7IHJldHVybiBnYXAgKyB0aGlzLmQwOyB9LFxuXHRcdFx0Z2V0IGQxKCkgeyByZXR1cm4gby5naShcIndoby13ZS1hcmVcIikuc2Nyb2xsSGVpZ2h0ICsgdGhpcy5kMDsgfSxcblx0XHRcdGdldCBkMWcoKSB7IHJldHVybiBnYXAgKyB0aGlzLmQxOyB9LFxuXHRcdFx0Z2V0IGQyKCkgeyByZXR1cm4gby5naShcImFjdGl2aXRpZXNcIikuc2Nyb2xsSGVpZ2h0ICsgdGhpcy5kMTsgfSxcblx0XHRcdGdldCBkMmcoKSB7IHJldHVybiBnYXAgKyB0aGlzLmQyOyB9LFxuXHRcdFx0Z2V0IGQzKCkgeyByZXR1cm4gby5naShcInRoZS1ib2FyZFwiKS5zY3JvbGxIZWlnaHQgKyB0aGlzLmQyOyB9LFxuXHRcdFx0Z2V0IGQzZygpIHsgcmV0dXJuIGdhcCArIHRoaXMuZDM7IH0sXG5cdFx0XHRnZXQgZDQoKSB7IHJldHVybiBvLmdpKFwiam9pbi11c1wiKS5zY3JvbGxIZWlnaHQgKyB0aGlzLmQzOyB9LFxuXHRcdFx0Z2V0IGQ0ZygpIHsgcmV0dXJuIGdhcCArIHRoaXMuZDQ7IH0sXG5cdFx0XHRnZXQgZDUoKSB7IHJldHVybiBvLmdpKFwiZmFxXCIpLnNjcm9sbEhlaWdodCArIHRoaXMuZDQ7IH0sXG5cdFx0XHRnZXQgZDVnKCkgeyByZXR1cm4gZ2FwICsgdGhpcy5kNTsgfSxcblx0XHRcdGdldCBkNigpIHsgcmV0dXJuIG8uZ2koXCJjb250YWN0XCIpLnNjcm9sbEhlaWdodCArIHRoaXMuZDU7IH1cblx0XHR9O1xuXHRcdFxuXHR2YXIgc2tyb2xsckluc3RhbmNlID0gc2tyb2xsci5pbml0KHtcblx0XHRzbW9vdGhTY3JvbGxpbmc6IGZhbHNlLFxuXHRcdGZvcmNlSGVpZ2h0OiBmYWxzZSxcblx0XHRjb25zdGFudHM6IG9mZnNldEZ1bmN0aW9ucyxcblx0XHRrZXlmcmFtZTogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgZGlyZWN0aW9uKSB7XG5cdFx0XHQvL2lmICghdGhpcy5pc0FuaW1hdGluZ1RvKCkpIHtcblx0XHRcdFx0dmFyIGV4dHJhID0gMDtcblx0XHRcdFx0aWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiKVxuXHRcdFx0XHRcdC0tZXh0cmE7XG5cdFx0XHRcdHN3aXRjaCAobmFtZS5zbGljZSg2KSkge1xuXHRcdFx0XHRcdGNhc2UgXCIwXCI6IG1vdmVMaW5lKDEgKyBleHRyYSk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCIxXCI6IG1vdmVMaW5lKDIgKyBleHRyYSk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCIyXCI6IG1vdmVMaW5lKDMgKyBleHRyYSk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCIzXCI6IG1vdmVMaW5lKDQgKyBleHRyYSk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCI0XCI6IG1vdmVMaW5lKDUgKyBleHRyYSk7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCI1XCI6IG1vdmVMaW5lKDYgKyBleHRyYSk7XG5cdFx0XHRcdH1cblx0XHRcdC8vfVxuXHRcdH1cblx0fSk7XG5cdFxuXHQvLyBTZXRzIHVwIFNrcm9sbGVyIE1lbnVcblx0c2tyb2xsci5tZW51LmluaXQoc2tyb2xsckluc3RhbmNlLCB7XG5cdFx0YW5pbWF0ZTogdHJ1ZSxcblx0XHRlYXNpbmc6IFwib3V0Q3ViaWNcIixcblx0XHRkdXJhdGlvbjogNTAwLFxuXHRcdGhhbmRsZUxpbms6IGZ1bmN0aW9uKGxpbmspIHtcblx0XHRcdHZhciBleHRyYSA9IDE7XG5cdFx0XHR2YXIgbGlua1RleHQgPSBsaW5rLmhyZWYuc3BsaXQoXCIjXCIpLnBvcCgpO1xuXHRcdFx0c3dpdGNoIChsaW5rVGV4dCkge1xuXHRcdFx0XHRjYXNlIFwiaW50cm9cIjpcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdGNhc2UgXCJ3aG8td2UtYXJlXCI6XHRyZXR1cm4gb2Zmc2V0RnVuY3Rpb25zLmQwICsgZXh0cmE7XG5cdFx0XHRcdGNhc2UgXCJhY3Rpdml0aWVzXCI6XHRyZXR1cm4gb2Zmc2V0RnVuY3Rpb25zLmQxICsgZXh0cmE7XG5cdFx0XHRcdGNhc2UgXCJ0aGUtYm9hcmRcIjpcdHJldHVybiBvZmZzZXRGdW5jdGlvbnMuZDIgKyBleHRyYTtcblx0XHRcdFx0Y2FzZSBcImpvaW4tdXNcIjpcdFx0cmV0dXJuIG9mZnNldEZ1bmN0aW9ucy5kMyArIGV4dHJhO1xuXHRcdFx0XHRjYXNlIFwiZmFxXCI6XHRcdFx0cmV0dXJuIG9mZnNldEZ1bmN0aW9ucy5kNCArIGV4dHJhO1xuXHRcdFx0XHRjYXNlIFwiY29udGFjdFwiOlx0XHRyZXR1cm4gb2Zmc2V0RnVuY3Rpb25zLmQ1ICsgZXh0cmE7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBsaW5rUG9zaXRpb24gPSBvLmNhbGNBYnNvbHV0ZVBvc2l0aW9uKFwiI2ZhcVwiLCBcIiNcIiArIGxpbmtUZXh0KTtcblx0XHRcdGlmIChsaW5rUG9zaXRpb24pXG5cdFx0XHRcdHJldHVybiBvZmZzZXRGdW5jdGlvbnMuZDQgKyBsaW5rUG9zaXRpb24udG9wIC0gNjUwO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdH0pO1xuXHRcblx0XG5cdFxuXHQvLyBTZXRzIHRoZSBzaXplIEZCIGlmcmFtZXMgZGVwZW5kaW5nIG9uIGRlc2t0b3Agb3IgbW9iaWxlXG5cdHZhciB3aWR0aCA9IDUwMCxcblx0XHRoZWlnaHQgPSA1NjAsXG5cdFx0d2lkdGgyID0gNTAwLFxuXHRcdGhlaWdodDIgPSA1MDA7XG5cdFx0XG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IGJyZWFrcG9pbnRNb2JpbGUpIHtcblx0XHR3aWR0aCA9IDMyMDtcblx0XHRoZWlnaHQgPSA1MDA7XG5cdFx0d2lkdGgyID0gMzIwO1xuXHRcdGhlaWdodDIgPSA0MDA7XG5cdH1cblx0XG5cdG8uZ2MoXCJhY3Rpdml0aWVzX19mYi1pZnJhbWVcIikuc3JjID0gXCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcGx1Z2lucy9wYWdlLnBocD9ocmVmPWh0dHBzJTNBJTJGJTJGd3d3LmZhY2Vib29rLmNvbSUyRkFlZ2VlTG9uZG9uJTJGJnRhYnM9ZXZlbnRzJnNtYWxsX2hlYWRlcj10cnVlJmhpZGVfY292ZXI9ZmFsc2Umc2hvd19mYWNlcGlsZT10cnVlJndpZHRoPVwiICsgd2lkdGggKyBcIiZoZWlnaHQ9XCIgKyBoZWlnaHQ7XG5cdG8uZ2MoXCJjb250YWN0X19mYi1pZnJhbWVcIikuc3JjID0gXCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcGx1Z2lucy9wYWdlLnBocD9ocmVmPWh0dHBzJTNBJTJGJTJGd3d3LmZhY2Vib29rLmNvbSUyRkFlZ2VlTG9uZG9uJTJGJnRhYnM9bWVzc2FnZXMmc21hbGxfaGVhZGVyPWZhbHNlJmhpZGVfY292ZXI9ZmFsc2Umc2hvd19mYWNlcGlsZT10cnVlJndpZHRoPVwiICsgd2lkdGgyICsgXCImaGVpZ2h0PVwiICsgaGVpZ2h0Mjtcblx0XG5cdFxuXHRcblx0Ly8gQWRkcyBsb2dpYyBmb3IgJ3Njcm9sbCcgYW5kICdyZXNpemUnIGV2ZW50c1xuXHR2YXIgc2Nyb2xsZWQgPSBmYWxzZSxcblx0XHRkaXN0YW5jZSA9IG9mZnNldEZ1bmN0aW9ucy5kMC8zLjUsXG5cdFx0aGVhZGVyID0gby5nYyhcInRvcC1iYXJcIik7XG5cdFxuXHRvLmFlKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkge1xuXHRcdGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiBkaXN0YW5jZSAmJiAhc2Nyb2xsZWQpIHtcblx0XHRcdGhlYWRlci5jbGFzc0xpc3QuYWRkKFwidG9wLWJhci0taW5cIik7XG5cdFx0XHRzY3JvbGxlZCA9IHRydWU7XG5cdFx0fSBlbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPCBkaXN0YW5jZSAmJiBzY3JvbGxlZCkge1xuXHRcdFx0aGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJ0b3AtYmFyLS1pblwiKTtcblx0XHRcdHNjcm9sbGVkID0gZmFsc2U7XG5cdFx0fVxuXHR9KTtcblx0XG5cdG8uYWUoXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0c2V0Qm9keUhlaWdodChvLmNhbGNUb3RhbEhlaWdodChcInNlY3Rpb24uc2tyb2xsci1kZWNrXCIpKTtcblx0XHRtb3ZlTGluZSgpO1xuXHR9KTtcblx0XG5cdFxuXHRcblx0Ly8gQWRhcHRzIHRoZSBVSSB0byByZW1vdmUgaW50cm8gYW5pbWF0aW9ucyBpZiB0aGUgVVJMIHBvaW50cyB0byBhIHNlY3Rpb24gXG5cdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdGlmICgoaGFzaCAmJiBoYXNoICE9PSBcIiNpbnRyb1wiKSB8fFxuXHRcdFx0IHdpbmRvdy5pbm5lcldpZHRoIDwgYnJlYWtwb2ludE1vYmlsZSkge1xuXHRcdG8uZ2MoXCJ0b3AtYmFyXCIpLmNsYXNzTGlzdC5hZGQoXCJ0b3AtYmFyLS1pblwiKTtcblx0XHRvLmdjKFwidG9wLWJhclwiKS5jbGFzc0xpc3QuYWRkKFwidG9wLWJhci0taW4yXCIpO1xuXHRcdG8udG8oZnVuY3Rpb24oKSB7IG8uZ2MoXCJ0b3AtYmFyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJ0b3AtYmFyLS1pbjJcIik7IH0sIDEwMDApO1xuXHRcdFxuXHRcdHNob3dUb3BCYXJFbnRyaWVzKCk7XG5cdFx0XG5cdFx0by50byhmdW5jdGlvbigpIHsgbW92ZUxpbmUoKTsgfSwgNTAwKTtcblx0fVxuXHRcblx0XG5cdFxuXHRpZiAod2luZG93LmlubmVyV2lkdGggPCBicmVha3BvaW50TW9iaWxlKSB7XG5cdFx0Ly8gQWRhcHRzIHRoZSBuYXZpZ2F0aW9uIHRvcCBiYXIgZm9yIG1vYmlsZSBzY3JlZW5zXG5cdFx0by5nY2EoXCJ0b3AtYmFyX190YWJcIikuZm9yRWFjaChmdW5jdGlvbihpKSB7XG5cdFx0XHRpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdG8uZ2MoXCJ0b3AtYmFyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJ0b3AtYmFyLS1vcGVuXCIpO1xuXHRcdFx0XHRvLmdjKFwidG9wLWJhcl9fdGhyZWUtYmFycy1jbG9zZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwidG9wLWJhcl9fdGhyZWUtYmFycy1jbG9zZS0taW5cIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRvLmdjKFwidG9wLWJhcl9fdGhyZWUtYmFyc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0by5nYyhcInRvcC1iYXJcIikuY2xhc3NMaXN0LnRvZ2dsZShcInRvcC1iYXItLW9wZW5cIik7XG5cdFx0XHRvLmdjKFwidG9wLWJhcl9fdGhyZWUtYmFycy1jbG9zZVwiKS5jbGFzc0xpc3QuYWRkKFwidG9wLWJhcl9fdGhyZWUtYmFycy1jbG9zZS0taW5cIik7XG5cdFx0fSk7XG5cdFx0by5nYyhcInRvcC1iYXJfX3RocmVlLWJhcnMtY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdG8uZ2MoXCJ0b3AtYmFyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJ0b3AtYmFyLS1vcGVuXCIpO1xuXHRcdFx0by5nYyhcInRvcC1iYXJfX3RocmVlLWJhcnMtY2xvc2VcIikuY2xhc3NMaXN0LnJlbW92ZShcInRvcC1iYXJfX3RocmVlLWJhcnMtY2xvc2UtLWluXCIpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdC8vIGxvYWRzIHRoZSBpbnRybyB2aWRlbyBpZiBvbiBkZXNrdG9wXG5cdFx0by5nYyhcImludHJvX192aWRlb1wiKS5zcmMgPSBcIi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLzd4OEJDYm80NXFBP2NvbnRyb2xzPTAmZW5hYmxlanNhcGk9MSZzaG93aW5mbz0wJnJlbD0wJml2X2xvYWRfcG9saWN5PTMmZGlzYWJsZWtiPTEmb3JpZ2luPWh0dHA6Ly9hZWdlZS1sb25kb24uZXVcIjtcblx0fVxuXHRcblx0XG5cdFxuXHQvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vYW5hbHl0aWNzanMvc2VuZGluZy1oaXRzXG5cdG8ucXMoXCJhLnRvcC1iYXJfX3RhYltocmVmPScjaW50cm8nXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IGdhKFwic2VuZFwiLCBcImV2ZW50XCIsIFwiVG9wIGJhciBsaW5rXCIsIFwiY2xpY2tcIiwgXCJpbnRyb1wiKTsgfSk7XG5cdG8ucXMoXCJhLnRvcC1iYXJfX3RhYltocmVmPScjd2hvLXdlLWFyZSddXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHsgZ2EoXCJzZW5kXCIsIFwiZXZlbnRcIiwgXCJUb3AgYmFyIGxpbmtcIiwgXCJjbGlja1wiLCBcIndoby13ZS1hcmVcIik7IH0pO1xuXHRvLnFzKFwiYS50b3AtYmFyX190YWJbaHJlZj0nI2FjdGl2aXRpZXMnXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IGdhKFwic2VuZFwiLCBcImV2ZW50XCIsIFwiVG9wIGJhciBsaW5rXCIsIFwiY2xpY2tcIiwgXCJhY3Rpdml0aWVzXCIpOyB9KTtcblx0by5xcyhcImEudG9wLWJhcl9fdGFiW2hyZWY9JyN0aGUtYm9hcmQnXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IGdhKFwic2VuZFwiLCBcImV2ZW50XCIsIFwiVG9wIGJhciBsaW5rXCIsIFwiY2xpY2tcIiwgXCJ0aGUtYm9hcmRcIik7IH0pO1xuXHRvLnFzKFwiYS50b3AtYmFyX190YWJbaHJlZj0nI2pvaW4tdXMnXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IGdhKFwic2VuZFwiLCBcImV2ZW50XCIsIFwiVG9wIGJhciBsaW5rXCIsIFwiY2xpY2tcIiwgXCJqb2luLXVzXCIpOyB9KTtcblx0by5xcyhcImEudG9wLWJhcl9fdGFiW2hyZWY9JyNmYXEnXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IGdhKFwic2VuZFwiLCBcImV2ZW50XCIsIFwiVG9wIGJhciBsaW5rXCIsIFwiY2xpY2tcIiwgXCJmYXFcIik7IH0pO1xuXHRvLnFzKFwiYS50b3AtYmFyX190YWJbaHJlZj0nI2NvbnRhY3QnXVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7IGdhKFwic2VuZFwiLCBcImV2ZW50XCIsIFwiVG9wIGJhciBsaW5rXCIsIFwiY2xpY2tcIiwgXCJjb250YWN0XCIpOyB9KTtcblx0XG5cdFxuXHRcblx0by5nYyhcImJvZHlcIikuY2xhc3NMaXN0LmFkZChcImJvZHktLWluXCIpO1xufVxuXG5cblxuXG5cbm8ubm90aWZ5V2hlbkxvYWRlZChcIi5pbnRyb19faGVhZGVyXCIpO1xuby5ub3RpZnlXaGVuTG9hZGVkKFwiLnRvcC1iYXJfX2xvZ29cIik7XG5cbldlYkZvbnQubG9hZCh7XG5cdGdvb2dsZToge1xuXHRcdGZhbWlsaWVzOiBbXCJSb2JvdG8gU2xhYjozMDAsNzAwXCIsIFwiT3BlbiBTYW5zOjMwMCw4MDBcIl1cblx0fSxcblx0YWN0aXZlOiBmdW5jdGlvbigpIHtcblx0XHRvLnJ1bldoZW5BbGxMb2FkZWQoaW5pdCk7XG5cdH0sXG5cdGluYWN0aXZlOiBmdW5jdGlvbigpIHtcblx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdH0sXG5cdGNsYXNzZXM6IGZhbHNlLFxuXHR0aW1lb3V0OiA4MDAwXG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
